<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CEREBREXIA'25 - Events</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Savate:wght@518&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Exo:wght@400;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
    /* Base and Reset */
    :root {
        --primary-glow-color: #50c8ff;
        --secondary-glow-color: #7efcff;
        --text-color: #ffffff;
        --dark-bg: #0a0e1a;
        --medium-bg: #10182c;
        --title-box-bg: #2a3045;
        --title-box-border: #607080;
        --button-blue: #007bff;
        --icon-blue: #3cb5f5;
        --medical-icon-color: #ffffff;
    }

    * { box-sizing: border-box; }
    html {
        background-color: #0d001f; /* Fallback background for the page */
        scroll-behavior: smooth;
    }
    body, html {
        margin: 0; padding: 0; min-height: 100vh;
        font-family: 'Kanit', sans-serif;
        color: #e0e0e0;
        overflow-x: hidden;
    }
    body {
        background-color: transparent; /* Allow video background to show through if any */
        position: relative; /* For stacking context if needed */
    }

    /* Consistent Header Styles (from user's code) */
    header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: transparent;
        z-index: 1000;
        transition: background-color 0.4s ease, backdrop-filter 0.4s ease, transform 0.3s ease;
        padding: 10px 15px;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }
    header.scrolled {
        background: rgba(13, 0, 31, 0.75);	
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
    }
    header.hidden { transform: translateY(-100%); }
    header.visible { transform: translateY(0); }
    .logo {
        height: 80px;
        user-select: none;
        text-decoration: none;
        z-index: 1001;
        display: flex;
        align-items: center;
    }
    .logo img {
        height: 100%;
        width: auto;
    }
    .header-controls { display: flex; align-items: center; gap: 15px; }
    .new-menu-toggle-button { background: transparent; border: none; color: #fff; cursor: pointer; padding: 10px; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1202; transition: transform 0.3s ease; }
    .new-menu-toggle-button .icon-bar { display: block; width: 30px; height: 3px; background-color: #fff; margin: 6px 0; transition: transform 0.3s ease, opacity 0.3s ease, background-color 0.3s ease; border-radius: 1px; }
    .new-menu-toggle-button:hover .icon-bar { background-color: #ff00ff; }
    .new-menu-toggle-button.open .icon-bar:nth-child(1) { transform: translateY(9px) rotate(45deg); }
    .new-menu-toggle-button.open .icon-bar:nth-child(2) { opacity: 0; }
    .new-menu-toggle-button.open .icon-bar:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }


    /* Fullscreen Nav styles */
    #fullScreenNav {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(13, 0, 31, 0.97); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
        z-index: 1200; display: flex; flex-direction: column; align-items: center; justify-content: center;
        opacity: 0; visibility: hidden; transition: opacity 0.5s ease, visibility 0s linear 0.5s; overflow-y: auto;
    }
    #fullScreenNav.active { opacity: 1; visibility: visible; transition: opacity 0.5s ease, visibility 0s linear 0s; }
    #fullScreenNav ul { list-style: none; padding: 0; margin: 0; text-align: center; }
    #fullScreenNav li { margin: 20px 0; }
    #fullScreenNav a {
        font-family: 'Exo', sans-serif;
        font-weight: 700; /* BOLD as requested */
        font-size: clamp(2rem, 5vw, 3rem);
        color: #fff; text-decoration: none; padding: 10px 25px; display: inline-block;
        position: relative; transition: color 0.4s ease, transform 0.4s ease; letter-spacing: 1px; text-transform: uppercase;
    }
    #fullScreenNav a::before, #fullScreenNav a::after {
        content: ''; position: absolute; width: 100%; height: 3px;
        background: linear-gradient(90deg, #ff00ff, #ffae00, #00ffff, #ff00ff);
        background-size: 300% 100%; left: 0;
        transition: transform 0.4s ease, opacity 0.4s ease; animation: borderFlow 8s linear infinite;
    }
    #fullScreenNav a::before { top: 0; transform: scaleX(0); transform-origin: left; }
    #fullScreenNav a::after { bottom: 0; transform: scaleX(0); transform-origin: right; }
    #fullScreenNav a:hover, #fullScreenNav a:focus { color: #ffdd57; transform: translateY(-5px) scale(1.05); }
    #fullScreenNav a:hover::before, #fullScreenNav a:focus::before { transform: scaleX(1); transform-origin: right; }
    #fullScreenNav a:hover::after, #fullScreenNav a:focus::after { transform: scaleX(1); transform-origin: left; }
    @keyframes borderFlow { 0% { background-position: 0% 50%; } 100% { background-position: 300% 50%; } }
    #fullScreenNav .nav-close-btn { position: absolute; top: 15px; right: 20px; background: transparent; color: #fff; border: none; font-size: 2.5rem; font-weight: bold; cursor: pointer; z-index: 1201; transition: color 0.3s ease, transform 0.3s ease; line-height: 1; }
    #fullScreenNav .nav-close-btn:hover { color: #ff00ff; transform: rotate(90deg) scale(1.1); }
    #fullScreenNav a.active-nav-link {
        color: #ffd700;
        text-shadow: 0 0 8px #ffd700, 0 0 15px rgba(255, 215, 0, 0.7);
    }
    #fullScreenNav a.active-nav-link::before,
    #fullScreenNav a.active-nav-link::after {
        width: 100%;
        transform: scaleX(1);
        animation: none;
        background-position: 0% 50%;
    }

    /* Notification Bell Styles */
    .notification-bell {
        position: relative;
        cursor: pointer;
        color: #fff;
        font-size: 1.5rem;
        transition: color 0.3s ease;
    }
    .notification-bell:hover { color: #ff00ff; }
    .notification-badge {
        position: absolute; top: -5px; right: -8px; background-color: #ff3d3d; color: white;
        border-radius: 50%; padding: 2px 6px; font-size: 0.7rem; font-weight: bold;
        display: none; border: 2px solid #0d001f;
    }
    .notification-dropdown {
        display: none; position: absolute; top: 80px; right: 20px; width: 320px;
        max-height: 400px; overflow-y: auto; background: rgba(20, 3, 40, 0.98);
        border: 1px solid #ff00ff; border-radius: 10px; box-shadow: 0 5px 25px rgba(255, 0, 255, 0.3);
        z-index: 1201; backdrop-filter: blur(5px);
    }
    .notification-item {
        padding: 12px 15px; border-bottom: 1px solid rgba(255, 0, 255, 0.2);
        color: #e0e0e0; font-size: 0.9rem;
    }
    .notification-item:last-child { border-bottom: none; }
    .notification-item strong { color: #00ffff; }
    .notification-item small { display: block; color: #aaa; font-size: 0.75rem; margin-top: 4px; }
    #no-notifications { text-align: center; padding: 20px; color: #aaa; }

    main.container { max-width: 1200px; margin: 100px auto 60px; padding: 20px; }
    
    h1.page-title {
        font-size: 3rem; color: #ffffff; text-align: center; margin-bottom: 40px;
        user-select: none;	
        font-family: 'Orbitron', sans-serif; font-weight: 700; letter-spacing: 2px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.5), 0 0 15px rgba(0, 255, 255, 0.4);
    }

    /* Filter Buttons - IMPROVED for mobile */
    .filter-container { margin-bottom: 40px; }
    .filter-group-label {
        font-size: 1.2rem;
        color: #ff99ff;
        font-weight: bold;
        font-family: 'Exo', sans-serif;
        text-align: center;
        margin-bottom: 15px;
        display: block;
    }
    .category-selector-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
    }
    .category-filter-item {
        background: rgba(255,0,255,0.1);
        border: 1px solid rgba(255,0,255,0.3);
        color: #fff;
        padding: 12px;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: 'Kanit', sans-serif;
        font-weight: 500;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
    }
    .category-filter-item i {
        font-size: 1.5rem;
        color: #ff99ff;
        transition: color 0.3s ease;
    }
    .category-filter-item.active, .category-filter-item:hover {
        background-color: #ff00ff;
        color: #0d001f;
        box-shadow: 0 0 15px #ff00ff;
        transform: translateY(-5px);
    }
    .category-filter-item.active i, .category-filter-item:hover i {
        color: #0d001f;
    }
    .subcategory-dropdown-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
    }
    #subCategorySelect {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(0, 255, 255, 0.3);
        border-radius: 8px;
        color: #e0e0e0;
        padding: 10px 30px 10px 15px;
        font-family: 'Share Tech Mono', monospace;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2300ffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 1em;
        min-width: 250px;
    }


    .events-grid {
        display: grid; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); gap: 30px;
    }
    .event-card {
        background: rgba(255,0,255,0.08); border: 1px solid rgba(255,0,255,0.3);
        border-radius: 15px; box-shadow: 0 0 10px rgba(255,0,255,0.3), 0 0 20px rgba(255,102,255,0.2);
        overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex; flex-direction: column;
    }
    .event-card-clickable-area {
        cursor: pointer;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }
    .event-card:hover {
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 0 25px rgba(255,0,255,0.5), 0 0 45px rgba(255,102,255,0.4);
    }
    .event-image { width: 100%; height: 200px; object-fit: cover; border-bottom: 2px solid #ff00ff; }
    .event-content { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
    .event-title {
        font-size: 1.7rem; font-weight: 700; margin-bottom: 8px;
        color: #f0c4ff; user-select: none; font-family: 'Exo', sans-serif;
    }
    .event-fee {
        font-family: 'Share Tech Mono', monospace; font-size: 1.1rem; color: #50fa7b;
        font-weight: bold; margin-bottom: 10px; letter-spacing: 1px; text-shadow: 0 0 5px #50fa7b;
    }
    .event-short-description { font-size: 0.95rem; color: #ccc; margin-bottom: 12px; line-height: 1.5; }
    .event-date {
        font-size: 0.9rem; color: #8be9fd; font-family: 'Share Tech Mono', monospace;
        letter-spacing: 1.5px; margin-bottom: 15px;
    }

    /* Accordion Styles */
    .accordion-header {
        background-color: rgba(51,0,77,0.7); color: #e0e0e0; padding: 10px 15px;
        border-radius: 8px; cursor: pointer; display: flex; justify-content: space-between;
        align-items: center; margin-top: 15px; font-weight: 600;
        transition: background-color 0.3s ease; border: 1px solid rgba(255,0,255,0.2);
    }
    .accordion-header:hover { background-color: rgba(85,0,128,0.8); border-color: rgba(255,0,255,0.4); }
    .accordion-header::after { content: '+'; font-size: 1.5rem; transition: transform 0.3s ease; color: #ff00ff; }
    .accordion-header.active::after { content: '-'; }
    .accordion-content {
        max-height: 0; overflow: hidden;
        transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        background: rgba(255,0,255,0.03); border-radius: 0 0 10px 10px; padding: 0 15px;
        color: #d0d0d0; border: 1px solid rgba(255,0,255,0.1); border-top: none;
    }
    .accordion-content.open { max-height: 500px; padding: 15px; overflow-y: auto; }
    .accordion-content p { margin-bottom: 10px; line-height: 1.6; }
    .accordion-content ul { margin: 10px 0; padding-left: 20px; }
    .accordion-content ul li { margin-bottom: 5px; }
    .accordion-content strong { color: #ff99ff; }

    /* Social Share Buttons (NOW VISIBLE) */
    .share-container {
        padding: 15px 20px 0 20px;
    }
    .share-buttons-container {
        display: flex;
        gap: 15px;
        padding-top: 15px;
        border-top: 1px solid rgba(255, 0, 255, 0.2);
        justify-content: center;
    }
    .share-button {
        color: #ccc;
        font-size: 1.5rem;
        transition: color 0.3s ease, transform 0.3s ease;
    }
    .share-button:hover { transform: scale(1.2); }
    .share-button.whatsapp:hover { color: #25D366; }
    .share-button.telegram:hover { color: #0088cc; }
    .share-button.facebook:hover { color: #1877F2; }
    .share-button.instagram:hover { color: #E1306C; }


    /* Modal Styles */
    .event-modal {
        display: none; position: fixed; z-index: 2000; left: 0; top: 0;
        width: 100%; height: 100%; overflow: auto; background-color: rgba(13, 0, 31, 0.85);
        backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); padding-top: 5vh;
    }
    .event-modal-content {
        background: rgba(20, 3, 40, 0.95); margin: auto; padding: 25px 30px;
        border: 1px solid #ff00ff; width: 90%; max-width: 650px;
        border-radius: 15px; box-shadow: 0 0 30px rgba(255, 0, 255, 0.5), 0 0 15px rgba(0, 255, 255, 0.3);
        position: relative; animation: modalFadeIn 0.5s ease-out;
    }
    @keyframes modalFadeIn { from { opacity: 0; transform: translateY(-30px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
    .event-modal-close {
        color: #aaa; position: absolute; top: 10px; right: 20px;
        font-size: 2.5rem; font-weight: bold; transition: color 0.3s ease, transform 0.3s ease;
    }
    .event-modal-close:hover, .event-modal-close:focus {
        color: #ff00ff; text-decoration: none; cursor: pointer; transform: rotate(90deg) scale(1.1);
    }
    .modal-title {
        font-family: 'Orbitron', sans-serif; color: #00ffff;
        text-shadow: 0 0 8px #00ffff; margin-bottom: 5px;
    }
    .modal-event-fee {
        font-family: 'Share Tech Mono', monospace; color: #50fa7b;
        margin-bottom: 20px; font-size: 1.1rem;
    }
    .modal-form .form-group { margin-bottom: 18px; }
    .modal-form label {
        display: block; margin-bottom: 6px; font-weight: 500;
        color: #ff99ff; font-size: 0.9rem;
    }
    .modal-form input[type="text"],
    .modal-form input[type="email"],
    .modal-form input[type="tel"],
    .modal-form input[type="number"],
    .modal-form input[type="url"],
    .modal-form select,
    .modal-form textarea {
        width: 100%; padding: 10px 12px; background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 8px; color: #e0e0e0;
        font-family: 'Kanit', sans-serif; font-size: 0.95rem; transition: border-color 0.3s, box-shadow 0.3s;
    }
    .modal-form input:focus,
    .modal-form select:focus,
    .modal-form textarea:focus {
        outline: none; border-color: #ff00ff; box-shadow: 0 0 10px rgba(255, 0, 255, 0.5);
    }
    .modal-form textarea { resize: vertical; min-height: 80px; }
    .modal-form .terms-label { font-size: 0.85rem; color: #ccc; display: flex; align-items: center; }
    .modal-form input[type="checkbox"] {
        margin-right: 8px; accent-color: #ff00ff; width: 16px; height: 16px;
    }
    .modal-submit-btn {
        width: 100%; padding: 12px; background: linear-gradient(45deg, #e600e6, #7c16cb);
        color: white; border: none; border-radius: 8px; font-family: 'Exo', sans-serif;
        font-weight: 700; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease;
        margin-top: 10px; text-transform: uppercase; letter-spacing: 1px;
    }
    .modal-submit-btn:hover {
        transform: scale(1.03); box-shadow: 0 0 15px rgba(230,0,230,0.6), 0 0 10px rgba(124,22,203,0.5);
    }
    .modal-submit-btn:disabled { background: #555; cursor: not-allowed; opacity: 0.7; }
    #formResponseMessage {
        margin-top: 15px; padding: 10px; border-radius: 8px; text-align: center; font-weight: 500;
    }
    #formResponseMessage.success { background-color: rgba(0, 255, 127, 0.2); color: #50fa7b; border: 1px solid #50fa7b; }
    #formResponseMessage.error { background-color: rgba(255, 0, 0, 0.2); color: #ff4d4d; border: 1px solid #ff4d4d; }
    .hidden-field { display: none !important; }

    /* Leaderboard Section Styles */
    #leaderboard-section {
        margin-top: 60px;
        margin-bottom: 60px;
        padding: 40px 20px;
        background: rgba(255,0,255,0.05);
        border-top: 2px solid rgba(255,0,255,0.3);
        border-radius: 15px;
    }
    .leaderboard-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.5rem;
        color: #00ffff;
        text-align: center;
        margin-bottom: 30px;
        text-shadow: 0 0 10px #00ffff;
    }
    .leaderboard-controls {
        text-align: center;
        margin-bottom: 30px;
    }
    .leaderboard-controls label {
        font-size: 1.2rem;
        color: #ff99ff;
        margin-right: 10px;
    }
    .leaderboard-controls select {
        padding: 8px 12px;
        background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(0, 255, 255, 0.3);
        border-radius: 8px;
        color: #e0e0e0;
        font-family: 'Share Tech Mono', monospace;
        font-size: 1rem;
    }
    .leaderboard-table-container {
        overflow-x: auto;
    }
    .leaderboard-table {
        width: 100%;
        min-width: 500px;
        border-collapse: collapse;
        text-align: left;
    }
    .leaderboard-table thead {
        background: rgba(0, 255, 255, 0.1);
    }
    .leaderboard-table th, .leaderboard-table td {
        padding: 12px 15px;
        border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    }
    .leaderboard-table th {
        font-family: 'Exo', sans-serif;
        color: #00ffff;
        font-weight: 700;
    }
    .leaderboard-table tbody tr:hover {
        background-color: rgba(0, 255, 255, 0.05);
    }
    .leaderboard-table .rank {
        font-weight: bold;
        font-size: 1.2rem;
        color: #ffd700;
    }
    #leaderboard-message {
        text-align: center;
        color: #aaa;
        padding: 20px;
    }


    /* NEW FOOTER DESIGN */
    .site-footer {
        background-color: #0A0E1A;
        color: #b0b0b0;
        padding: 60px 20px 30px;
        font-family: 'Kanit', sans-serif;
        margin-top: 60px;
        border-top: 4px solid #3a3a5e;
    }
    .footer-container-new {
        max-width: 1300px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 45px;
        text-align: left;
    }
    .footer-section-new h3 {
        font-family: 'Exo', sans-serif;
        font-size: 1.7em;
        font-weight: 600;
        color: #f9c74f;
        margin-bottom: 25px;
        position: relative;
        padding-bottom: 10px;
    }
    .footer-section-new h3::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 50px;
        height: 3px;
        background-color: #f9c74f;
    }
    .footer-about p {
        line-height: 1.8;
        font-size: 1.05rem;
    }
    .footer-social-icons-new {
        margin-top: 20px;
        display: flex;
        gap: 15px;
        list-style: none;
        padding: 0;
        justify-content: flex-start;
    }
    .footer-social-icons-new a {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        font-size: 1.7rem;
        transition: transform 0.3s ease, color 0.3s ease;
        text-decoration: none;
    }
    .footer-social-icons-new a:hover {
        transform: scale(1.15) translateY(-4px);
    }
    .footer-social-icons-new .fa-instagram { color: #E1306C; }
    .footer-social-icons-new .fa-instagram:hover { color: #fff; background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); }
    .footer-social-icons-new .fa-whatsapp { color: #25D366; }
    .footer-social-icons-new .fa-whatsapp:hover { color: #fff; background-color: #25D366; }
    .footer-social-icons-new .fa-youtube { color: #FF0000; }
    .footer-social-icons-new .fa-youtube:hover { color: #fff; background-color: #FF0000; }

    .footer-links-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    .footer-links-list li {
        margin-bottom: 14px;
    }
    .footer-links-list li a {
        color: #b0b0b0;
        text-decoration: none;
        transition: color 0.3s ease, padding-left 0.3s ease;
        position: relative;
        font-size: 1.05rem;
    }
    .footer-links-list li a::before {
        content: '»';
        margin-right: 10px;
        color: #f9c74f;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    .footer-links-list li a:hover {
        color: #f9c74f;
        padding-left: 15px;
    }
    .footer-links-list li a:hover::before {
        opacity: 1;
    }
    .footer-contact-info p {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        font-size: 1.05rem;
    }
    .footer-contact-info p i {
        color: #f9c74f;
        margin-right: 15px;
        font-size: 1.2rem;
        width: 20px;
    }
    .footer-contact-info p a {
        color: #b0b0b0;
        text-decoration: none;
        transition: color 0.3s ease;
    }
    .footer-contact-info p a:hover {
        color: #f9c74f;
    }
    .footer-bottom-new {
        text-align: center;
        margin-top: 40px;
        padding-top: 25px;
        border-top: 1px solid #3a3a5e;
        font-size: 1rem;
        color: #a0a0a0;
    }

    /* Policy and Team Modals */
    #policyModal, #teamModal {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background-color: rgba(0, 0, 0, 0.8); display: flex; align-items: center;
        justify-content: center; z-index: 2000; opacity: 0; visibility: hidden;
        transition: opacity 0.3s ease, visibility 0s linear 0.3s; padding: 20px;
        box-sizing: border-box;
    }
    #policyModal.active, #teamModal.active {
        opacity: 1; visibility: visible;
        transition: opacity 0.3s ease, visibility 0s linear 0s;
    }
    .modal-content {
        padding: 30px; border-radius: 15px; max-width: 800px; width: 100%;
        max-height: 90vh; overflow-y: auto; position: relative;
        transform: scale(0.9); transition: transform 0.3s ease;
    }
    #policyModal.active .modal-content, #teamModal.active .modal-content {
        transform: scale(1);
    }
    #policyModal .modal-content {
        background-color: #1a0029; box-shadow: 0 0 25px rgba(255, 0, 255, 0.7);
        border: 2px solid #ff00ff;
    }
    .modal-close-btn {
        position: absolute; top: 15px; right: 20px; background: none; border: none;
        font-size: 2.2rem; cursor: pointer; transition: color 0.3s ease, transform 0.3s ease;
    }
    #policyModal .modal-close-btn { color: #ff00ff; }
    #policyModal .modal-close-btn:hover { color: #fff; transform: rotate(90deg); }
    .modal-title {
        font-family: 'Exo', sans-serif; font-size: 2.2rem; margin-bottom: 20px; text-align: center;
    }
    #policyModal .modal-title { color: #ffcc00; text-shadow: 0 0 8px rgba(255, 204, 0, 0.5); }
    .modal-body { font-size: 1.1rem; line-height: 1.7; color: #e0e0e0; }
    .modal-body h3 {
        font-family: 'Kanit', sans-serif; font-size: 1.4rem; color: #00ffff;
        margin-top: 25px; margin-bottom: 10px;
    }
    .modal-body p, .modal-body ul { margin-bottom: 15px; }
    .modal-body ul { list-style: disc inside; padding-left: 20px; }
    .modal-body li { margin-bottom: 5px; }
    #teamModal .modal-content {
        background-color: #0a0e1a; border: 2px solid #00ffff;
        box-shadow: 0 0 25px rgba(0, 255, 255, 0.7); max-width: 900px;
    }
    #teamModal .modal-title { color: #00ffff; text-shadow: 0 0 8px rgba(0, 255, 255, 0.5); }
    #teamModal .modal-close-btn { color: #00ffff; }
    #teamModal .modal-close-btn:hover { color: #fff; transform: rotate(90deg); }
    .team-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 25px; justify-content: center; padding-top: 20px;
    }
    .team-member-card {
        background-color: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 20px;
        text-align: center; box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease; border: 1px solid rgba(0, 255, 255, 0.2);
    }
    .team-member-card:hover {
        transform: translateY(-8px) scale(1.03);
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.6), 0 0 25px rgba(0, 255, 255, 0.4);
    }
    .team-member-photo {
        width: 100px; height: 100px; border-radius: 50%; object-fit: cover;
        margin: 0 auto 15px; border: 3px solid #00ffff;
        box-shadow: 0 0 8px rgba(0, 255, 255, 0.8);
    }
    .team-member-name {
        font-family: 'Exo', sans-serif; font-size: 1.4rem; font-weight: 700;
        color: #7efcff; margin-bottom: 5px; text-shadow: 0 0 5px rgba(0, 255, 255, 0.6);
    }
    .team-member-role { font-family: 'Kanit', sans-serif; font-size: 1rem; color: #a0f0f0; margin-bottom: 15px; }
    .team-member-social a { color: #e0e0e0; font-size: 1.2rem; margin: 0 8px; transition: color 0.3s ease; }
    .team-member-social a:hover { color: #00ffff; }


    /* Toast Notification for Copy Link */
    #toast-notification {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #1f2937; /* gray-800 */
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.5s, visibility 0.5s;
    }
    #toast-notification.show {
        opacity: 1;
        visibility: visible;
    }


    /* Responsive Adjustments */
    @media (max-width: 768px) {
        main.container { margin: 100px auto 60px; padding: 15px; }
        h1.page-title { font-size: 2.5rem; }
        .leaderboard-title { font-size: 2rem; }
        .footer-container-new { text-align: left; }
        .footer-section-new h3::after { left: 0; transform: none; }
        .footer-social-icons-new { justify-content: flex-start; }
        .event-modal-content { width: 95%; padding: 20px; max-height: 90vh; overflow-y: auto;}
    }
    @media (max-width: 600px) {
        .logo { height: 70px; }
        header { padding: 10px 15px;}
        main.container { margin-top: 80px; }
        h1.page-title { font-size: 2rem; }
        .leaderboard-title { font-size: 1.8rem; }
        .event-title { font-size: 1.4rem; }
        .modal-title { font-size: 1.5rem; }
    }
</style>
</head>
<body>

<header class="visible">
    <a href="index.html" class="logo">
        <img src="https://storage.googleapis.com/cerebrexia/WEBSITE%20LOGO.png" alt="Cerebrexia Logo">
    </a>
    <div class="header-controls">
        <div id="notificationBell" class="notification-bell">
            <i class="fas fa-bell"></i>
            <span id="notificationBadge" class="notification-badge"></span>
        </div>
        <button class="new-menu-toggle-button" id="newMenuToggleButton" aria-label="Open navigation menu" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
</header>

<div id="notificationDropdown" class="notification-dropdown">
    <div id="notificationList">
        <p id="no-notifications">No new notifications.</p>
    </div>
</div>

<div id="fullScreenNav">
    <button class="nav-close-btn" id="navCloseButton" aria-label="Close navigation menu">×</button>
    <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="events.html" class="active-nav-link">EVENTS</a></li>
        <li><a href="pronite.html">PRONITES</a></li>
        <li><a href="register.html">REGISTER</a></li>
        <li><a href="merch.html">MERCHANDISE</a></li>
        <li><a href="accomodation.html">ACCOMMODATION</a></li>
        <li><a href="schedule.html">SCHEDULE</a></li>
        <li><a href="profile.html">PROFILE</a></li>
    </ul>
</div>

<main class="container">
    <h1 class="page-title" data-aos="fade-up" data-aos-delay="200">EVENTS AT CEREBREXIA'25</h1>

    <div class="filter-container" data-aos="fade-up" data-aos-delay="200">
        <div id="categoryFilters">
            <span class="filter-group-label">Choose a Category</span>
            <div class="category-selector-grid">
                <button class="category-filter-item active" data-category="All"><i class="fas fa-globe"></i><span>All</span></button>
                <button class="category-filter-item" data-category="Pro-Events"><i class="fas fa-star"></i><span>Pro-Events</span></button>
                <button class="category-filter-item" data-category="Academics"><i class="fas fa-book-open"></i><span>Academics</span></button>
                <button class="category-filter-item" data-category="Literary"><i class="fas fa-feather-alt"></i><span>Literary</span></button>
                <button class="category-filter-item" data-category="Informals"><i class="fas fa-gamepad"></i><span>Informals</span></button>
                <button class="category-filter-item" data-category="Sports"><i class="fas fa-futbol"></i><span>Sports</span></button>
                <button class="category-filter-item" data-category="Cultural"><i class="fas fa-masks-theater"></i><span>Cultural</span></button>
                <button class="category-filter-item" data-category="Arts"><i class="fas fa-palette"></i><span>Arts</span></button>
            </div>
        </div>
        <div id="subCategoryFilters" class="subcategory-dropdown-container">
            <label for="subCategorySelect" class="filter-group-label">Filter by Sub-Category:</label>
            <select id="subCategorySelect">
                <option value="All">All Sub-Categories</option>
            </select>
        </div>
    </div>
    
    <section id="leaderboard-section" data-aos="fade-up">
        <h2 class="leaderboard-title">Live Leaderboards</h2>
        <div class="leaderboard-controls">
            <label for="leaderboard-select">Select Competition:</label>
            <select id="leaderboard-select">
                <option value="">-- Choose an Event --</option>
            </select>
        </div>
        <div class="leaderboard-table-container">
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Player / Team</th>
                        <th>Score</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body">
                    </tbody>
            </table>
            <p id="leaderboard-message">Select a competition to view the leaderboard.</p>
        </div>
    </section>

    <div class="events-grid">
        </div>

</main>

<div id="eventRegistrationModal" class="event-modal">
    <div class="event-modal-content">
        <span class="event-modal-close" id="closeModalButton" aria-label="Close registration form">×</span>
        <h2 id="modalEventTitle" class="text-2xl md:text-3xl font-bold mb-1 modal-title">Register for Event</h2>
        <p id="modalEventFee" class="text-lg mb-6 modal-event-fee">Registration Fee: N/A</p>

        <form id="eventRegForm" class="modal-form">
            <input type="hidden" id="formEventId" name="eventId">
            <input type="hidden" id="formEventName" name="eventName">
            <input type="hidden" id="formEventFeeValue" name="eventFeeValue">
            <input type="hidden" id="formCoordinatorEmail" name="coordinatorEmail">
            <input type="hidden" id="formIsTeamEvent" name="isTeamEvent">


            <div class="form-group">
                <label for="regFullName">Full Name (Team Leader for Group Events) <span class="text-red-500">*</span></label>
                <input type="text" id="regFullName" name="fullName" placeholder="Enter your full name" required>
            </div>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="form-group">
                    <label for="regEmail">Email Address (Team Leader) <span class="text-red-500">*</span></label>
                    <input type="email" id="regEmail" name="email" placeholder="your.email@example.com" required>
                </div>
                <div class="form-group">
                    <label for="regPhone">Contact Number (Team Leader, WhatsApp) <span class="text-red-500">*</span></label>
                    <input type="tel" id="regPhone" name="phone" placeholder="+91 XXXXXXXXXX" required>
                </div>
            </div>
            
            <div id="teamFieldsContainer" class="hidden-field">
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="form-group">
                        <label for="regTeamName">Team Name <span class="text-red-500">*</span></label>
                        <input type="text" id="regTeamName" name="teamName" placeholder="Enter team name (if applicable)">
                    </div>
                    <div class="form-group">
                        <label for="regTeamMembersCount">Number of Team Members (including self) <span class="text-red-500">*</span></label>
                        <input type="number" id="regTeamMembersCount" name="teamMembersCount" min="1" placeholder="e.g., 3 (if team event)">
                    </div>
                </div>
                <div id="groupMemberDetailsContainer" class="mt-3">
                </div>
            </div>

            <div id="submissionLinkContainer" class="form-group hidden-field">
                <label for="regSubmissionLink">Submission Link (Drive, GitHub, YouTube, etc.)</label>
                <input type="url" id="regSubmissionLink" name="submissionLink" placeholder="https://your-submission-link.com">
                <p class="text-xs text-gray-400 mt-1">For online events requiring submission. Ensure link is accessible.</p>
            </div>

            <div class="form-group">
                <label for="regPurpose">Brief Note / Query (Optional)</label>
                <textarea id="regPurpose" name="purpose" rows="3" placeholder="e.g., Specific query about the event, or why you are excited to participate!"></textarea>
            </div>
            <div class="form-group">
                <label for="regTerms" class="terms-label">
                    <input type="checkbox" id="regTerms" name="terms" required>
                    I have read and agree to the event rules and CEREBREXIA'25 guidelines. <span class="text-red-500">*</span>
                </label>
            </div>
            <button type="submit" id="modalSubmitButton" class="modal-submit-btn">Submit Entry</button>
        </form>
        <div id="formResponseMessage" class="mt-4 hidden"></div>
    </div>
</div>


<footer class="site-footer">
    <div class="footer-container-new">
        <div class="footer-section-new footer-about">
            <h3>About CEREBREXIA</h3>
            <p>The electrifying annual fest of IGIMS Patna! A confluence of talent, culture, and unforgettable moments. Join us to celebrate creativity and innovation.</p>
            <ul class="footer-social-icons-new">
                <li><a href="https://www.instagram.com/igimsfest/" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram"><i class="fab fa-instagram"></i></a></li>
                <li><a href="https://whatsapp.com/channel/0029VbA0P20HbFV2ke5rlR2G" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp Channel" title="WhatsApp Channel"><i class="fab fa-whatsapp"></i></a></li>
                <li><a href="https://www.youtube.com" target="_blank" rel="noopener noreferrer" aria-label="Youtube Channel" title="Youtube Channel"><i class="fab fa-youtube"></i></a></li>
            </ul>
        </div>
        <div class="footer-section-new">
            <h3>Useful Links</h3>
            <ul class="footer-links-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="schedule.html">Schedule</a></li>
                <li><a href="register.html">Basic Registration</a></li>
                <li><a href="#" class="team-link">Meet The Team</a></li>	
            </ul>
        </div>
        <div class="footer-section-new">
            <h3>Policies</h3>
            <ul class="footer-links-list">
                <li><a href="#" class="policy-link" data-policy="privacy">Privacy Policy</a></li>
                <li><a href="#" class="policy-link" data-policy="terms">Terms & Conditions</a></li>
                <li><a href="#" class="policy-link" data-policy="code">Code of Conduct</a></li>
                <li><a href="#" class="policy-link" data-policy="refund">Refund Policy</a></li>
            </ul>
        </div>
        <div class="footer-section-new">
            <h3>Contact Info</h3>
            <div class="footer-contact-info">
                <p><i class="fas fa-map-marker-alt"></i>IGIMS Patna, Sheikhpura, Bihar</p>
                <p><i class="fas fa-envelope"></i><a href="mailto:info@cerebrexia25.com">info@cerebrexia25.com</a></p>
                <p><i class="fas fa-phone"></i><a href="tel:+917541054474">+91 75410 54474</a></p>	
            </div>
        </div>
    </div>
    <div class="footer-bottom-new">
        <p>© 2025 CEREBREXIA'25 - IGIMS Patna. All Rights Reserved.</p>
    </div>
</footer>

<div id="policyModal">
    <div class="modal-content">
        <button class="modal-close-btn">×</button>
        <h2 class="modal-title" id="modalTitle"></h2>
        <div class="modal-body" id="modalBody"></div>
    </div>
</div>

<div id="teamModal">
    <div class="modal-content">
        <button class="modal-close-btn" id="teamModalCloseBtn">×</button>
        <h2 class="modal-title">Meet Our Team</h2>
        <div class="team-grid" id="teamGrid"></div>
    </div>
</div>

<div id="toast-notification"></div>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<!-- Include Razorpay Checkout SDK -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    
    // --- Firebase Configuration ---
    const firebaseConfig = {
        apiKey: "AIzaSyBOWumY95hdMt2uOvmJEk5WG0GhdqUHUNc",
        authDomain: "cerebrexia-ee068.firebaseapp.com",
        projectId: "cerebrexia-ee068",
        storageBucket: "cerebrexia-ee068.firebasestorage.app",
        messagingSenderId: "328864114758",
        appId: "1:328864114758:web:108968f6576b6967f14247",
        measurementId: "G-6Z6EP1ZTEJ" // Keep this if using Analytics
    };
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    let currentUser = null; // To store the authenticated user's ID
    let currentUserProfile = null; // To store the fetched user profile data

    // Define the backend base URL. For Canvas, this is typically the same origin.
    // If your backend is deployed elsewhere, replace window.location.origin with your backend URL.
    const backendBaseUrl = window.location.origin; 

    // --- Firebase Auth State Listener ---
    const signIn = async () => {
        try {
            if (initialAuthToken) {
                await signInWithCustomToken(auth, initialAuthToken);
            } else {
                await signInAnonymously(auth);
            }
        } catch (error) {
            console.error("Authentication failed:", error);
            showToast("Failed to connect. Please refresh.", 'error');
        }
    };

    onAuthStateChanged(auth, async (user) => {
        if (user) {
            currentUser = user;
            console.log("Authenticated user detected:", user.uid);
            // Fetch user profile to pre-fill forms
            await fetchUserProfile(user.uid);

            // Enable the button if the modal is already open
            if (modal.style.display === 'block') {
                modalSubmitButton.disabled = false;
                modalSubmitButton.textContent = 'Submit Entry';
            }
        } else {
            currentUser = null;
            currentUserProfile = null; // Clear profile if no user
            console.log("No user is signed in.");
            
            if (modal.style.display === 'block') {
                modalSubmitButton.disabled = true;
                modalSubmitButton.textContent = 'Authenticating... Please wait.';
                // Attempt to sign in if not already
                signIn(); 
            }
        }
    });

    signIn(); // Initiate sign-in process on script load

    /**
     * Fetches the user's profile from Firestore.
     * @param {string} userId - The UID of the current user.
     */
    async function fetchUserProfile(userId) {
        const profileDocRef = doc(db, 'artifacts', appId, 'users', userId, 'profiles', userId);
        try {
            const profileDocSnap = await getDoc(profileDocRef);
            if (profileDocSnap.exists()) {
                currentUserProfile = profileDocSnap.data();
                console.log("User profile fetched:", currentUserProfile);
            } else {
                currentUserProfile = null;
                console.log("User profile not found for pre-filling.");
            }
        } catch (error) {
            console.error("Error fetching user profile:", error);
            showToast("Could not load your profile for pre-filling.", 'error');
        }
    }


    // --- FULL Event Data (Restored) ---
    const eventsData = [
        // Pro-Events (from original list, keeping for consistency as category is present)
        {
            id: 1, title: "Tech Innovation Challenge", category: "Pro-Events", subCategory: "Technical",
            image: "https://picsum.photos/seed/tech1/600/400", regFee: "₹ 200",
            shortDescription: "Invent and present your groundbreaking tech solution.",
            longDescription: "Unleash your inner innovator! This challenge is designed for budding engineers and tech enthusiasts to showcase their problem-solving skills. Participants will conceptualize, design, and present novel technical solutions to contemporary issues. Focus on real-world applicability, scalability, and originality. This is your chance to turn abstract ideas into tangible innovations that can make a difference.",
            rules: ["Max 3 members per team. Individual participation is also allowed.","Solutions must be original and not previously submitted to other competitions.","A comprehensive presentation (slides, demo video) is mandatory.","Judges' decision will be final and binding.","Submissions must be made via a shared Google Drive link."],
            prizes: "₹5000 cash + certificates for top 3 teams", contact: "tech.coord@example.com, +919876543210", date: "2025-03-10",
            isTeamEvent: true, teamSize: { min: 1, max: 3 }, requiresSubmission: true, coordinatorEmail: "tech.coord@example.com"
        },
        {
            id: 2, title: "Robotics Workshop", category: "Pro-Events", subCategory: "Workshop",
            image: "https://picsum.photos/seed/robotics/600/400", regFee: "₹ 500",
            shortDescription: "Learn to build and program your own robot.",
            longDescription: "Step into the future with our interactive Robotics Workshop! This hands-on session will guide you through the exciting world of robotics, from basic electronics and circuitry to programming microcontrollers. Learn to assemble, code, and control a small robot, gaining practical skills in a rapidly evolving field. Perfect for beginners eager to explore AI and automation.",
            rules: ["No prior robotics or programming experience is strictly required.","Participants can work individually or in pairs to build their robot.","All necessary components and tools will be provided by the workshop organizers.","Active participation and adherence to safety guidelines are mandatory."],
            prizes: "Workshop completion certificates, 'Best Robot Design' award, and networking opportunities", contact: "robotics.coord@example.com, +919911223344", date: "2025-03-18",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "igimsevents@gmail.com"
        },
        {
            id: 3, title: "Hackathon", category: "Pro-Events", subCategory: "Technical",
            image: "https://picsum.photos/seed/hackathon/600/400", regFee: "₹ 300",
            shortDescription: "Collaborate, code, and create innovative software solutions.",
            longDescription: "Ignite your coding passion in our 24-hour Hackathon! Team up with fellow developers, designers, and problem-solvers to build innovative software solutions from scratch. Choose a problem statement, brainstorm, code, and present your prototype to a panel of experts. This is an intense, rewarding experience for those who love to build and push boundaries.",
            rules: ["Max 4 members per team. Individual participation is also allowed.","Participants must bring their own laptops and necessary development tools.","Solutions must be developed during the hackathon period.","Judging based on originality, technical complexity, completeness, and presentation.","Teams must submit their project code via a GitHub repository link."],
            prizes: "₹10000 cash, internship opportunities, tech gadgets", contact: "hackathon.coord@example.com, +919876543211", date: "2025-03-22",
            isTeamEvent: true, teamSize: { min: 1, max: 4 }, requiresSubmission: true, coordinatorEmail: "hackathon.coord@example.com"
        },
        // Academic Events (from screenshots)
        {
            id: 4, title: "Basic Life Support (BLS)", category: "Academics", subCategory: "Workshop",
            image: "https://picsum.photos/seed/bls/600/400", regFee: "₹ 150",
            shortDescription: "Learn essential life-saving techniques.",
            longDescription: "Equip yourself with crucial life-saving skills in this interactive Basic Life Support (BLS) workshop. Learn cardiopulmonary resuscitation (CPR), choking relief, and basic first aid techniques from certified medical professionals. This hands-on session is vital for anyone wanting to be prepared for medical emergencies.",
            rules: ["Individual participation.","Active participation in practical demonstrations is mandatory.","Certification will be provided upon successful completion.","Wear comfortable clothing suitable for practical exercises."],
            prizes: "BLS Participation Certificate, essential first aid kit", contact: "bls.coord@example.com, +919123450001", date: "2025-03-10",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "bls.coord@example.com"
        },
        {
            id: 5, title: "Cine-Seminar (Psychiatry)", category: "Academics", subCategory: "Seminar",
            image: "https://picsum.photos/seed/cineseminar/600/400", regFee: "₹ 100",
            shortDescription: "Explore psychiatric concepts through film analysis.",
            longDescription: "Delve into the complexities of the human mind through the lens of cinema. This unique seminar will use movie clips and full features to discuss various psychiatric conditions, their portrayal, and the underlying psychological concepts. Engage in insightful discussions led by expert psychiatrists, bridging the gap between art and science.",
            rules: ["Individual participation.","Active participation in discussions is encouraged.","No prior medical background required, but basic understanding of psychology helps.","Certificates will be provided to all attendees."],
            prizes: "Participation Certificate, curated list of films for further study", contact: "cineseminar.coord@example.com, +919123450002", date: "2025-03-11",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "cineseminar.coord@example.com"
        },
        {
            id: 6, title: "Doc-Talk", category: "Academics", subCategory: "Presentation",
            image: "https://picsum.photos/seed/doctalk/600/400", regFee: "Free",
            shortDescription: "Present on trending medical topics and share insights.",
            longDescription: "A platform for medical students and young doctors to share their knowledge and insights on current medical trends, research, and clinical cases. Prepare a compelling presentation and engage with peers and faculty. This is an excellent opportunity to enhance your public speaking skills and contribute to medical discourse.",
            rules: ["Individual participation.","Presentation duration: 10-12 minutes, followed by 3 minutes Q&A.","Topics must be medically relevant and well-researched.","Submission of presentation slides via Google Drive link is required beforehand."],
            prizes: "Certificates of Participation, 'Best Presenter' award", contact: "doctalk.coord@example.com, +919123450003", date: "2025-03-12",
            isTeamEvent: false, requiresSubmission: true, coordinatorEmail: "doctalk.coord@example.com"
        },
        {
            id: 7, title: "Preclinical Quiz", category: "Academics", subCategory: "Quiz",
            image: "https://picsum.photos/seed/preclinical/600/400", regFee: "₹ 50",
            shortDescription: "Test your knowledge in Anatomy, Physiology, and Biochemistry.",
            longDescription: "A challenging quiz designed for medical students to assess their foundational knowledge in preclinical subjects like Anatomy, Physiology, and Biochemistry. Compete individually or in teams, and battle it out to prove your mastery of the basics of medicine.",
            rules: ["Teams of 2-3 members.","Multiple rounds including visual and rapid-fire questions.","Use of electronic devices is strictly prohibited.","Quiz master's decision is final."],
            prizes: "Cash prizes, medical textbooks, Certificates of Merit", contact: "preclinical.coord@example.com, +919123450004", date: "2025-03-13",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "preclinical.coord@example.com"
        },
        {
            id: 8, title: "Paraclinical Quiz", category: "Academics", subCategory: "Quiz",
            image: "https://picsum.photos/seed/paraclinical/600/400", regFee: "₹ 50",
            shortDescription: "Challenge your understanding of Pathology, Pharmacology, and Microbiology.",
            longDescription: "This quiz focuses on the crucial paraclinical subjects: Pathology, Pharmacology, and Microbiology. Test your recall and application of knowledge through a series of engaging questions. Perfect for students preparing for professional exams or those wanting to reinforce their understanding of these core subjects.",
            rules: ["Teams of 2-3 members.","Round formats may vary (e.g., audio, visual, direct).","No external notes or devices allowed.","All decisions by the quiz master are conclusive."],
            prizes: "Cash prizes, medical resources, Certificates of Merit", contact: "paraclinical.coord@example.com, +919123450005", date: "2025-03-14",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "paraclinical.coord@example.com"
        },
        {
            id: 9, title: "Clinical Quiz", category: "Academics", subCategory: "Quiz",
            image: "https://picsum.photos/seed/clinical/600/400", regFee: "₹ 50",
            shortDescription: "Test your clinical acumen and diagnostic skills.",
            longDescription: "The ultimate challenge for future clinicians! This quiz delves into clinical scenarios, patient management, diagnostics, and therapeutics. Questions will span across various clinical specialties, requiring both theoretical knowledge and practical application. A must-attend for aspiring doctors ready to prove their clinical prowess.",
            rules: ["Teams of 2-3 members.","Focus on clinical case scenarios and practical knowledge.","No unauthorized assistance.","Final decisions rest with the organizing committee."],
            prizes: "Cash prizes, clinical handbooks, Certificates of Merit", contact: "clinical.coord@example.com, +919123450006", date: "2025-03-15",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "clinical.coord@example.com"
        },
        {
            id: 10, title: "Case Presentation", category: "Academics", subCategory: "Presentation",
            image: "https://picsum.photos/seed/case/600/400", regFee: "Free",
            shortDescription: "Present and discuss medical case studies.",
            longDescription: "Sharpen your diagnostic skills and communication prowess in the Medical Case Presentation event. Participants will present a challenging or interesting medical case study, detailing patient history, examination findings, differential diagnoses, and management plans. This is a valuable opportunity for peer learning and faculty feedback.",
            rules: ["Individual or team of 2 participants.","Case must be real and ethically sourced (anonymized).","Presentation time: 10-15 minutes, followed by 5 minutes Q&A.","Submission of case summary and presentation slides via Google Drive link is required beforehand."],
            prizes: "Certificates, recognition for best presented case", contact: "casepres.coord@example.com, +919123450007", date: "2025-03-16",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: true, coordinatorEmail: "casepres.coord@example.com"
        },
        // Literary Events
        {
            id: 11, title: "AGORA (Debate)", category: "Literary", subCategory: "Oratory",
            image: "https://picsum.photos/seed/debate/600/400", regFee: "₹ 75",
            shortDescription: "Engage in fiery discussions and articulate your arguments.",
            longDescription: "Step into the 'Agora', the ancient Greek marketplace of ideas, and engage in spirited debates! This competition challenges participants to articulate compelling arguments for and against a given motion. Demonstrate your research, critical thinking, quick wit, and persuasive speaking abilities to convince the judges and audience.",
            rules: ["Individual participation or teams of two.","Motions for debate will be provided 24 hours in advance or on the spot for preliminary rounds.","Strict time limits for speeches, cross-examinations, and rebuttals apply.","Judges will score based on content, logical reasoning, presentation, and adherence to debate etiquette."],
            prizes: "Certificates of Achievement, cash prizes for top debaters", contact: "agora.coord@example.com, +917654321098", date: "2025-03-14",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "agora.coord@example.com"
        },
        {
            id: 12, title: "Hridaya (Poetry, Shayari & Elocution)", category: "Literary", subCategory: "Oratory",
            image: "https://picsum.photos/seed/poetry/600/400", regFee: "₹ 50",
            shortDescription: "Express your emotions through poetry, Shayari, or elocution.",
            longDescription: "Open your 'Hridaya' (heart) and captivate the audience with the power of your words! This event offers a stage for poetic expression, whether through original poetry, classic Shayari recitations, or impactful elocution. Choose your preferred medium and deliver a performance that touches souls and inspires minds.",
            rules: ["Individual participation only.","Performance duration: 3-5 minutes per participant.","Original compositions are encouraged for poetry/Shayari; chosen pieces for elocution must be credited.","Content should be respectful and appropriate for a diverse audience.","Judging based on content, delivery, emotional connect, and stage presence."],
            prizes: "Certificates of Excellence, gift vouchers, publication opportunity in college magazine", contact: "hridaya.coord@example.com, +919123450008", date: "2025-03-13",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "hridaya.coord@example.com"
        },
        {
            id: 13, title: "Spell Bee", category: "Literary", subCategory: "Quiz",
            image: "https://picsum.photos/seed/spellbee/600/400", regFee: "₹ 40",
            shortDescription: "Test your spelling prowess and vocabulary.",
            longDescription: "Do you have a knack for words? The Spell Bee challenges participants on their spelling accuracy and extensive vocabulary. Go head-to-head in a series of rounds, correctly spelling increasingly complex words. This is a thrilling competition for wordsmiths and language enthusiasts!",
            rules: ["Individual participation only.","Words will be given orally; participants must spell them out clearly.","Multiple rounds with increasing difficulty.","Judges' decision is final regarding correct spellings and pronunciation."],
            prizes: "Certificates of Recognition, dictionaries, stationery hampers", contact: "spellbee.coord@example.com, +919123450009", date: "2025-03-12",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "spellbee.coord@example.com"
        },
        {
            id: 14, title: "TMROC Quiz", category: "Literary", subCategory: "Quiz",
            image: "https://picsum.photos/seed/tmroc/600/400", regFee: "Free",
            shortDescription: "A general knowledge quiz covering a wide range of topics.",
            longDescription: "The TMROC Quiz is a challenging general knowledge quiz designed to test your awareness across various domains, including current affairs, history, science, sports, and pop culture. Form your team and prepare for a comprehensive brain battle!",
            rules: ["Teams of 2-3 members.","Mix of direct questions, visual rounds, and rapid-fire rounds.","No external aids or mobile phones allowed.","The quiz master's decision is absolute."],
            prizes: "Certificates, exciting gift hampers", contact: "tmroc.coord@example.com, +919123450010", date: "2025-03-11",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "tmroc.coord@example.com"
        },
        {
            id: 15, title: "Pop-Culture Quiz", category: "Literary", subCategory: "Quiz",
            image: "https://picsum.photos/seed/popculture/600/400", regFee: "₹ 50",
            shortDescription: "Test your knowledge of movies, music, TV shows, and trends.",
            longDescription: "Are you a pop culture aficionado? This quiz is for you! Dive into the world of movies, music, TV shows, comics, gaming, and viral trends. Show off your expertise on everything from Hollywood blockbusters to K-pop sensations. A fun and fast-paced quiz for all pop culture enthusiasts.",
            rules: ["Teams of 2-3 members.","Questions will cover global and Indian pop culture.","No outside assistance.","Decision of the quiz master is final."],
            prizes: "Certificates, movie tickets, streaming service subscriptions", contact: "popculture.coord@example.com, +919123450011", date: "2025-03-10",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "popculture.coord@example.com"
        },
        {
            id: 16, title: "General Quiz", category: "Literary", subCategory: "Quiz",
            image: "https://picsum.photos/seed/generalquiz/600/400", regFee: "₹ 50",
            shortDescription: "A comprehensive test of general knowledge.",
            longDescription: "Put your encyclopedic knowledge to the ultimate test! The General Quiz covers a vast array of subjects from history and geography to science and current affairs. This engaging competition is designed for those with a thirst for knowledge and a competitive spirit. Form your team and prepare for a rigorous intellectual challenge.",
            rules: ["Teams of 2-3 members.","Diverse range of question types.","Mobile phones and smart devices are strictly prohibited.","All decisions by the organizing committee are final."],
            prizes: "Cash prizes, academic books, Certificates of Achievement", contact: "generalquiz.coord@example.com, +919123450012", date: "2025-03-10",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "generalquiz.coord@example.com"
        },
        // Informal Events
        {
            id: 17, title: "Family Feud", category: "Informals", subCategory: "Games",
            image: "https://picsum.photos/seed/familyfeud/600/400", regFee: "₹ 100 (per team)",
            shortDescription: "Guess the most popular survey answers in this fun game show.",
            longDescription: "Get ready for laughs and friendly competition in our version of Family Feud! Teams will battle it out by guessing the most popular answers to survey questions. Quick thinking, teamwork, and a good sense of humor are key to winning this engaging and hilarious game show. Perfect for a casual, fun-filled evening!",
            rules: ["Teams of 4-5 members.","Fastest finger first to answer the main question.","Points awarded based on survey popularity of answers.","No electronic devices during gameplay."],
            prizes: "Fun hampers, bragging rights, Certificates of Participation", contact: "familyfeud.coord@example.com, +919123450013", date: "2025-03-17",
            isTeamEvent: true, teamSize: { min: 4, max: 5 }, requiresSubmission: false, coordinatorEmail: "familyfeud.coord@example.com"
        },
        {
            id: 18, title: "Dare to Dart", category: "Informals", subCategory: "Games",
            image: "https://picsum.photos/seed/darts/600/400", regFee: "₹ 50",
            shortDescription: "A thrilling game involving dares and dart throwing.",
            longDescription: "Are you brave enough to take on a dare? 'Dare to Dart' combines precision dart throwing with exciting, challenging dares. Hit the target, or face a fun dare! This event promises laughter, suspense, and unexpected twists. Come test your aim and your courage!",
            rules: ["Individual participation.","Participants get a set number of darts.","Missing the target results in performing a dare.","Dares will be light-hearted and appropriate.","Organizers' decisions are final regarding dares and scores."],
            prizes: "Fun prizes, bragging rights, Certificates of Participation", contact: "daretodart.coord@example.com, +919123450014", date: "2025-03-18",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "daretodart.coord@example.com"
        },
        {
            id: 19, title: "Push Up Challenge", category: "Informals", subCategory: "Fitness",
            image: "https://picsum.photos/seed/pushup/600/400", regFee: "₹ 30",
            shortDescription: "Test your strength and endurance with a push-up challenge.",
            longDescription: "How many push-ups can you do? Push your limits in this ultimate test of upper body strength and endurance. Compete against others to perform the maximum number of correct push-ups within a time limit. Show off your fitness and claim the title of CEREBREXIA's strongest!",
            rules: ["Individual participation only.","Proper push-up form (chest to ground, full extension) will be strictly judged.","Time limit: 60 seconds.","Judges' decision on valid reps is final."],
            prizes: "Protein supplements, fitness gear, Certificates of Strength", contact: "pushup.coord@example.com, +919123450015", date: "2025-03-19",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "pushup.coord@example.com"
        },
        {
            id: 20, title: "Arm Wrestling", category: "Informals", subCategory: "Strength",
            image: "https://picsum.photos/seed/armwrestle/600/400", regFee: "₹ 40",
            shortDescription: "A classic test of raw arm strength.",
            longDescription: "Flex your muscles and go head-to-head in a thrilling Arm Wrestling showdown! This event is a pure test of raw power and technique. Compete in various weight categories (if applicable) and see who has the strongest arm at CEREBREXIA'25. May the strongest arm prevail!",
            rules: ["Individual participation, categories may be divided by gender/weight.","Standard arm wrestling rules apply (elbow on pad, no lifting shoulder).","Referee's decision is final.","Any unsportsmanlike conduct will lead to disqualification."],
            prizes: "Cash prizes, arm wrestling gear, Certificates of Power", contact: "armwrestle.coord@example.com, +919123450016", date: "2025-03-20",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "armwrestle.coord@example.com"
        },
        {
            id: 21, title: "Treasury Hunt", category: "Informals", subCategory: "Adventure",
            image: "https://picsum.photos/seed/treasure/600/400", regFee: "₹ 150 (per team)",
            shortDescription: "Solve clues and race to find the hidden treasure.",
            longDescription: "Embark on an exciting adventure across the campus in our exhilarating Treasure Hunt! Teams will follow a series of cryptic clues, solve riddles, and overcome challenges to find the hidden treasure. This event tests your teamwork, problem-solving skills, and speed. Get ready for a thrilling chase!",
            rules: ["Teams of 3-4 members.","Clues will lead to various locations on campus.","First team to find the treasure wins.","No external help (e.g., internet searches for clues) is allowed."],
            prizes: "Grand prize treasure chest (cash/goodies), Certificates of Exploration", contact: "treasurehunt.coord@example.com, +919123450017", date: "2025-03-21",
            isTeamEvent: true, teamSize: { min: 3, max: 4 }, requiresSubmission: false, coordinatorEmail: "treasurehunt.coord@example.com"
        },
        {
            id: 22, title: "Film Reenactment", category: "Informals", subCategory: "Performance",
            image: "https://picsum.photos/seed/film/600/400", regFee: "₹ 200 (per team)",
            shortDescription: "Recreate iconic movie scenes with your own creative twist.",
            longDescription: "Bring your favorite movie moments to life! In Film Reenactment, teams will choose an iconic scene from any movie and recreate it with their unique, humorous, or dramatic interpretation. Focus on acting, costume, and capturing the essence of the original while adding your creative flair. Lights, Camera, Reenact!",
            rules: ["Teams of 2-5 members.","Scene duration: 3-5 minutes.","Participants must provide their own costumes and props.","Sound/music must be pre-recorded and provided beforehand via Google Drive link.","Judging based on acting, creativity, resemblance to original (if intended), and audience reaction."],
            prizes: "Best Performance award, film-themed merchandise, Certificates of Creativity", contact: "filmreenact.coord@example.com, +919123450018", date: "2025-03-22",
            isTeamEvent: true, teamSize: { min: 2, max: 5 }, requiresSubmission: true, coordinatorEmail: "filmreenact.coord@example.com"
        },
        {
            id: 23, title: "Cooking Competition", category: "Informals", subCategory: "Culinary",
            image: "https://picsum.photos/seed/cooking/600/400", regFee: "₹ 150 (per team)",
            shortDescription: "Showcase your culinary skills and create delicious dishes.",
            longDescription: "Ignite your passion for food in our exciting Cooking Competition! Teams will prepare a dish based on a given theme or ingredients, showcasing their culinary creativity, presentation skills, and taste. From amateur cooks to aspiring chefs, everyone is welcome to spice things up!",
            rules: ["Teams of 2-3 members.","A specific theme or set of ingredients will be provided on the spot.","Limited cooking equipment and basic ingredients will be provided; participants may bring specific unique ingredients/tools.","Hygiene and food safety are paramount.","Judging based on taste, presentation, creativity, and adherence to theme."],
            prizes: "Kitchen appliance vouchers, gourmet food hampers, 'Master Chef' certificates", contact: "cooking.coord@example.com, +919123450019", date: "2025-03-23",
            isTeamEvent: true, teamSize: { min: 2, max: 3 }, requiresSubmission: false, coordinatorEmail: "cooking.coord@example.com"
        },
        // Sports Events
        {
            id: 24, title: "Cricket", category: "Sports", subCategory: "Team Sports",
            image: "https://picsum.photos/seed/cricket/600/400", regFee: "₹ 500 (per team)",
            shortDescription: "Form your team and compete in a thrilling cricket tournament.",
            longDescription: "Grab your bat, put on your pads, and get ready for the cricketing action! Our Cricket tournament brings together teams for exciting T20 or limited-overs matches. Showcase your batting prowess, bowling precision, and fielding agility. Compete for glory and the coveted Cerebrexia Cricket Cup!",
            rules: ["Teams of 6-8 players (depending on format).","Standard cricket rules apply.","Match schedules and specific rules will be shared with registered teams.","Umpires' decision is final."],
            prizes: "Winning team trophy, cash prize, sports kits", contact: "cricket.coord@example.com, +919123450020", date: "2025-03-10",
            isTeamEvent: true, teamSize: { min: 6, max: 8 }, requiresSubmission: false, coordinatorEmail: "cricket.coord@example.com"
        },
        {
            id: 25, title: "Football", category: "Sports", subCategory: "Team Sports",
            image: "https://picsum.photos/seed/football/600/400", regFee: "₹ 500 (per team)",
            shortDescription: "Score goals and dominate the pitch in the football tournament.",
            longDescription: "Lace up your boots and get ready for a fast-paced football tournament! Teams will compete in exhilarating 5-a-side or 7-a-side matches. Showcase your dribbling skills, passing accuracy, and powerful shots to lead your team to victory. Aim for the goal and become the champions of the pitch!",
            rules: ["Teams of 5-7 players (depending on format).","FIFA rules will be adapted for the tournament format.","Match durations and fixtures will be provided upon registration.","Referee's decision is final."],
            prizes: "Winning team trophy, cash prize, football merchandise", contact: "football.coord@example.com, +919123450021", date: "2025-03-11",
            isTeamEvent: true, teamSize: { min: 5, max: 7 }, requiresSubmission: false, coordinatorEmail: "football.coord@example.com"
        },
        {
            id: 26, title: "Volleyball", category: "Sports", subCategory: "Team Sports",
            image: "https://picsum.photos/seed/volleyball/600/400", regFee: "₹ 400 (per team)",
            shortDescription: "Spike, block, and set your way to victory in volleyball.",
            longDescription: "Bump, set, spike! Gather your team and join the intense Volleyball tournament. Compete in thrilling matches, showcasing your agility, coordination, and teamwork. Feel the adrenaline as you aim for perfect serves and powerful spikes to win points. Serve up some excitement!",
            rules: ["Teams of 6 players.","Standard volleyball rules apply.","Match formats (sets, points) will be announced.","Referee's judgment is final."],
            prizes: "Winning team trophy, cash prize, sports equipment", contact: "volleyball.coord@example.com, +919123450022", date: "2025-03-12",
            isTeamEvent: true, teamSize: { min: 6, max: 6 }, requiresSubmission: false, coordinatorEmail: "volleyball.coord@example.com"
        },
        {
            id: 27, title: "Badminton", category: "Sports", subCategory: "Racquet Sports",
            image: "https://picsum.photos/seed/badminton/600/400", regFee: "₹ 100 (per player/pair)",
            shortDescription: "Smash your way to victory in singles and doubles.",
            longDescription: "Serve, smash, and drop! The Badminton tournament features both singles and doubles categories. Showcase your swift movements, precise shots, and strategic play on the court. Whether you prefer the individual challenge or the coordinated effort of doubles, get ready for some intense shuttlecock action!",
            rules: ["Individual (Singles) and Team (Doubles) categories available.","Standard Badminton World Federation (BWF) rules will be followed.","Best of three sets matches.","Players must bring their own racquets; shuttles will be provided."],
            prizes: "Trophies for winners, cash prizes, badminton gear", contact: "badminton.coord@example.com, +919123450023", date: "2025-03-13",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "badminton.coord@example.com"
        },
        {
            id: 28, title: "Kabaddi", category: "Sports", subCategory: "Team Sports",
            image: "https://picsum.photos/seed/kabaddi/600/400", regFee: "₹ 400 (per team)",
            shortDescription: "Raid, defend, and earn points in this traditional Indian sport.",
            longDescription: "Chant 'Kabaddi, Kabaddi!' and enter the arena for this thrilling traditional Indian contact sport. Teams will strategically raid opponents' halves, touching players for points, while defenders try to tackle the raider. It's a game of strength, agility, and quick thinking. Embrace the spirit of Kabaddi!",
            rules: ["Teams of 7 players on court, with substitutes.","Standard Kabaddi rules apply.","Match duration and format will be specified.","Referee's decision is final and binding."],
            prizes: "Winning team trophy, cash prize, sports uniforms", contact: "kabaddi.coord@example.com, +919123450024", date: "2025-03-14",
            isTeamEvent: true, teamSize: { min: 7, max: 10 }, requiresSubmission: false, coordinatorEmail: "kabaddi.coord@example.com"
        },
        {
            id: 29, title: "Tug of War", category: "Sports", subCategory: "Strength",
            image: "https://picsum.photos/seed/tugofwar/600/400", regFee: "₹ 200 (per team)",
            shortDescription: "Pull with all your might to claim victory in this classic strength test.",
            longDescription: "Unleash your collective power in the ultimate test of strength and teamwork: Tug of War! Teams will face off, pulling with all their might to drag the opposing side over the central line. It's a game of raw power, coordination, and sheer determination. May the strongest team win!",
            rules: ["Teams of 5-7 members (depending on total strength).","Standard tug-of-war rules apply (no wrapping rope, no sitting down).","Best of three rounds.","Referee's decision is final."],
            prizes: "Winning team trophy, team dinner voucher, Certificates of Strength", contact: "tugofwar.coord@example.com, +919123450025", date: "2025-03-15",
            isTeamEvent: true, teamSize: { min: 5, max: 7 }, requiresSubmission: false, coordinatorEmail: "tugofwar.coord@example.com"
        },
        {
            id: 30, title: "Chess Tournament", category: "Sports", subCategory: "Mind Games",
            image: "https://picsum.photos/seed/chess/600/400", regFee: "₹ 100",
            shortDescription: "A classic battle of wits on the chessboard.",
            longDescription: "Engage in a strategic battle of wits in our Chess Tournament! Whether you're a grandmaster in the making or a casual player, this event offers a challenging and engaging experience. Compete in rapid-fire rounds, testing your tactical prowess and foresight against formidable opponents. The ultimate chess champion awaits!",
            rules: ["Individual participation only.","Standard FIDE chess rules will be applied.","Time controls (e.g., rapid, blitz) will be announced before the tournament begins.","Fair play is paramount; any form of cheating will lead to immediate disqualification."],
            prizes: "Champion's Trophy, cash prizes, Certificates of Participation", contact: "chess.coord@example.com, +918765432109", date: "2025-03-16",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "chess.coord@example.com"
        },
        {
            id: 31, title: "Table Tennis", category: "Sports", subCategory: "Racquet Sports",
            image: "https://picsum.photos/seed/tabletennis/600/400", regFee: "₹ 80 (per player/pair)",
            shortDescription: "Fast-paced rallies and strategic shots on the table.",
            longDescription: "Get ready for lightning-fast rallies and precise shots! The Table Tennis tournament features singles and doubles categories. Showcase your agility, reflexes, and strategic placement to outmaneuver your opponents. Ping your way to glory!",
            rules: ["Individual (Singles) and Team (Doubles) categories.","Standard ITTF rules apply.","Best of three sets matches.","Players must bring their own rackets; balls will be provided."],
            prizes: "Trophies for winners, cash prizes, TT equipment", contact: "tt.coord@example.com, +919123450026", date: "2025-03-17",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "tt.coord@example.com"
        },
        {
            id: 32, title: "Carrom", category: "Sports", subCategory: "Board Games",
            image: "https://picsum.photos/seed/carrom/600/400", regFee: "₹ 50 (per player/pair)",
            shortDescription: "Pocket the coins and master the board.",
            longDescription: "Precision, strategy, and a steady hand! The Carrom tournament invites players to showcase their flicking skills and board mastery. Compete in singles or doubles categories, aiming to pocket your coins and the queen before your opponent. It's a game of finesse and keen observation.",
            rules: ["Individual (Singles) and Team (Doubles) categories.","Standard carrom rules apply.","Organizers will provide boards and coins.","Fair play is expected."],
            prizes: "Medals, gift vouchers, Certificates of Skill", contact: "carrom.coord@example.com, +919123450027", date: "2025-03-18",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "carrom.coord@example.com"
        },
        {
            id: 33, title: "Athletics", category: "Sports", subCategory: "Individual Sports",
            image: "https://picsum.photos/seed/athletics/600/400", regFee: "₹ 50 (per event)",
            shortDescription: "Various track and field events for speed, strength, and endurance.",
            longDescription: "Run, jump, and throw your way to glory! The Athletics event features a variety of track and field disciplines, including sprints, long jump, shot put, and more. Compete in individual events and test your physical prowess against others. Show your athleticism and set new records!",
            rules: ["Individual participation in chosen events (e.g., 100m sprint, long jump).","Standard athletic rules as per national guidelines.","Specific event details, timings, and rules will be announced at the venue.","Participants must wear appropriate sports attire."],
            prizes: "Medals, Certificates of Achievement, recognition for top performers", contact: "athletics.coord@example.com, +919123450028", date: "2025-03-19",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "athletics.coord@example.com"
        },
        {
            id: 34, title: "Rubik's Mania", category: "Sports", subCategory: "Mind Games",
            image: "https://picsum.photos/seed/rubiks/600/400", regFee: "₹ 60",
            shortDescription: "Solve the Rubik's Cube in the fastest time possible.",
            longDescription: "Twist, turn, and solve! Rubik's Mania challenges participants to solve various Rubik's Cube puzzles in the shortest time. From the classic 3x3 to more complex cubes, show your speedcubing skills and compete to be the fastest solver at Cerebrexia'25. Get ready to scramble and solve!",
            rules: ["Individual participation only.","Various categories (e.g., 3x3, 2x2, Pyraminx) may be offered.","Competitors use their own Rubik's cubes (must be in fair condition).","Standard World Cube Association (WCA) rules apply (e.g., 15-second inspection time, official timers).","Judges' decision is final."],
            prizes: "Speedcubing timers, special Rubik's cubes, Certificates of Dexterity", contact: "rubik.coord@example.com, +919123450029", date: "2025-03-20",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "rubik.coord@example.com"
        },
        {
            id: 35, title: "Mixed Cricket", category: "Sports", subCategory: "Team Sports",
            image: "https://picsum.photos/seed/mixedcricket/600/400", regFee: "₹ 500 (per team)",
            shortDescription: "A fun cricket tournament with mixed gender teams.",
            longDescription: "Enjoy the gentleman's game with a twist! Mixed Cricket brings together teams with both male and female players for a fun and competitive tournament. Emphasis is on participation, teamwork, and enjoying the game in a friendly environment. All skill levels are welcome to smash, bowl, and field!",
            rules: ["Teams of 6-8 members, with mandatory male-female representation.","Modified cricket rules to ensure inclusive play.","Match durations and specific rules will be communicated.","Fair play and camaraderie are prioritized."],
            prizes: "Team trophy, group experience vouchers, Certificates of Participation", contact: "mixedcricket.coord@example.com, +919123450030", date: "2025-03-21",
            isTeamEvent: true, teamSize: { min: 6, max: 8 }, requiresSubmission: false, coordinatorEmail: "mixedcricket.coord@example.com"
        },
        {
            id: 36, title: "BGMI Tournament", category: "Sports", subCategory: "Esports",
            image: "https://picsum.photos/seed/bgmi/600/400", regFee: "₹ 150 (per player)",
            shortDescription: "Battle Royale supremacy in BGMI.",
            longDescription: "Drop in, loot up, and be the last one standing! The BGMI Tournament is a high-stakes battle royale competition where teams fight for survival and supremacy. Showcase your shooting skills, strategic positioning, and teamwork to conquer the virtual battlefield. Get ready for intense firefights and epic chicken dinners!",
            rules: ["Teams of 4 players.","Standard competitive BGMI rules apply.","Specific maps and game modes will be used.","Any form of cheating or unauthorized software will result in immediate disqualification.","Participants must join the official Discord server for match coordination."],
            prizes: "Cash prizes, gaming peripherals, Certificates of Domination", contact: "bgmi.coord@example.com, +919123450031", date: "2025-03-22",
            isTeamEvent: true, teamSize: { min: 4, max: 4 }, requiresSubmission: false, coordinatorEmail: "bgmi.coord@example.com"
        },
        {
            id: 37, title: "Kho Kho", category: "Sports", subCategory: "Team Sports",
            image: "https://picsum.photos/seed/khokho/600/400", regFee: "₹ 300 (per team)",
            shortDescription: "A traditional Indian tag game requiring speed and strategy.",
            longDescription: "Experience the thrill of speed and strategy in the traditional Indian game of Kho Kho! Teams will chase and evade each other, testing their agility, reflexes, and teamwork. It's a high-energy game that combines physical prowess with tactical thinking. Get ready to shout 'Kho!' and win!",
            rules: ["Teams of 9 players.","Standard Kho Kho Federation of India rules apply.","Match durations and fixtures will be announced.","Fair play and adherence to referee's decisions are mandatory."],
            prizes: "Winning team trophy, cash prize, sports uniforms", contact: "khokho.coord@example.com, +919123450032", date: "2025-03-23",
            isTeamEvent: true, teamSize: { min: 9, max: 12 }, requiresSubmission: false, coordinatorEmail: "khokho.coord@example.com"
        },
        // Cultural Events
        {
            id: 38, title: "Swarmay (Singing)", category: "Cultural", subCategory: "Music",
            image: "https://picsum.photos/seed/singing/600/400", regFee: "₹ 100",
            shortDescription: "Mesmerize the audience with your vocal prowess.",
            longDescription: "Let your voice resonate and capture hearts in 'Swarmay', our singing competition! Whether you prefer classical, folk, Bollywood, or contemporary genres, this is your stage to showcase your vocal talent. Compete as a solo artist or in a duo, enchanting the audience with your melody and rhythm.",
            rules: ["Individual or Duo participation.","Performance duration: 3-5 minutes (including introduction).","Participants can sing in any language.","Karaoke tracks or self-accompanied instruments are allowed.","Judging based on vocal quality, pitch, rhythm, emotional expression, and stage presence."],
            prizes: "Cash prizes, music lessons vouchers, recording studio session, Certificates of Melody", contact: "swarmay.coord@example.com, +919123450033", date: "2025-03-10",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "swarmay.coord@example.com"
        },
        {
            id: 39, title: "Flamenco (Dancing)", category: "Cultural", subCategory: "Dance",
            image: "https://picsum.photos/seed/dance/600/400", regFee: "₹ 150",
            shortDescription: "Showcase the passion and grace of Flamenco or any dance form.",
            longDescription: "Unleash your inner dancer and set the stage ablaze! 'Flamenco' is a dance competition that welcomes all dance forms, from classical to contemporary, folk to western. Showcase your precision, emotion, and storytelling through movement. Whether solo, duo, or group, captivate the audience with your rhythm and grace.",
            rules: ["Solo, Duo, or Group (max 8 members) participation.","Performance duration: 3-7 minutes (depending on category).","Music must be submitted beforehand via Google Drive link.","Costumes and props are allowed and encouraged.","Judging criteria include choreography, synchronization, expression, and overall impact."],
            prizes: "Cash prizes, dance workshop vouchers, trophies, Certificates of Rhythm", contact: "flamenco.coord@example.com, +919123450034", date: "2025-03-11",
            isTeamEvent: true, teamSize: { min: 1, max: 8 }, requiresSubmission: true, coordinatorEmail: "flamenco.coord@example.com"
        },
        {
            id: 40, title: "Cinematica (Film Making)", category: "Cultural", subCategory: "Film",
            image: "https://picsum.photos/seed/filmmaking/600/400", regFee: "₹ 400 (per team)",
            shortDescription: "Create a compelling short film from concept to screen.",
            longDescription: "Tell your story, your way! 'Cinematica' is a short film making competition inviting budding filmmakers to bring their narratives to life. From scriptwriting to direction, cinematography to editing, showcase your complete filmmaking process. All genres are welcome. This is your chance to shine as a storyteller and visual artist.",
            rules: ["Max 5 members per team.","Film duration: 5-10 minutes (including credits).","Original content only; proper attribution for any non-original elements is mandatory.","Films must be submitted via a shared Google Drive link with public viewing access.","Judging based on storytelling, direction, cinematography, editing, and overall impact."],
            prizes: "Cash prizes, film equipment vouchers, screening opportunities, Certificates of Vision", contact: "cinematica.coord@example.com, +919123450035", date: "2025-03-12",
            isTeamEvent: true, teamSize: { min: 1, max: 5 }, requiresSubmission: true, coordinatorEmail: "cinematica.coord@example.com"
        },
        {
            id: 41, title: "Montage (Reel Making)", category: "Cultural", subCategory: "Film",
            image: "https://picsum.photos/seed/reelmaking/600/400", regFee: "₹ 100 (per person/team)",
            shortDescription: "Create captivating short video reels.",
            longDescription: "Craft engaging visual stories in 'Montage', our reel making competition! Use your creativity and editing skills to produce short, impactful video reels on a given theme or open topic. Whether for social media or pure artistic expression, this is your chance to shine as a digital storyteller. Show us your best cuts!",
            rules: ["Individual or Duo participation.","Reel duration: 30-90 seconds.","Theme will be announced on the spot or a day prior.","Original content preferred; licensed music allowed with credit.","Submissions must be via a shared Google Drive link or direct upload to a platform with public access (e.g., YouTube unlisted link)."],
            prizes: "Cash prizes, content creation gear, social media promotion, Certificates of Creativity", contact: "montage.coord@example.com, +919123450036", date: "2025-03-13",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: true, coordinatorEmail: "montage.coord@example.com"
        },
        {
            id: 42, title: "Lensanity (Photography)", category: "Cultural", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/photography/600/400", regFee: "₹ 100",
            shortDescription: "Capture the essence of the fest through your lens.",
            longDescription: "Become the visual storyteller of CEREBREXIA'25! This contest challenges you to capture the vibrant atmosphere, hidden moments, and unique perspectives of the festival through your camera lens. Submissions will be judged on creativity, technical skill, composition, and adherence to the theme. Let your photographs speak volumes!",
            rules: ["Photos must be taken exclusively during CEREBREXIA'25.","Minimum 3 and maximum 5 submissions per participant.","Minor post-processing (cropping, color correction) is allowed; heavy manipulation is prohibited.","Participants must submit their entries via a Google Drive link with public access.","High-resolution JPEG files are required."],
            prizes: "Top-tier camera accessories, professional photography courses, Certificates of Excellence", contact: "lensanity.coord@example.com, +918877665544", date: "2025-03-14",
            isTeamEvent: false, requiresSubmission: true, coordinatorEmail: "lensanity.coord@example.com"
        },
        {
            id: 43, title: "Got Talent", category: "Cultural", subCategory: "Performance",
            image: "https://picsum.photos/seed/talent/600/400", regFee: "₹ 100 (per act)",
            shortDescription: "Showcase any unique talent to a live audience.",
            longDescription: "Do you have a hidden talent? This is your chance to shine! 'Got Talent' is an open stage for any unique skill – be it magic, mimicry, ventriloquism, instrumental music, beatboxing, or anything that can entertain and impress. Surprise us with your extraordinary abilities!",
            rules: ["Individual or Group (max 5 members) participation.","Performance duration: 3-7 minutes (depending on act).","Acts must be safe and appropriate for a general audience.","Basic technical support (sound, lighting) will be provided, but special equipment must be managed by participants.","Judging based on originality, skill, entertainment value, and audience reaction."],
            prizes: "Cash prizes, gift hampers, Certificates of Talent", contact: "gottalent.coord@example.com, +919123450037", date: "2025-03-15",
            isTeamEvent: true, teamSize: { min: 1, max: 5 }, requiresSubmission: false, coordinatorEmail: "gottalent.coord@example.com"
        },
        {
            id: 44, title: "MemeCentral (Meme Competition)", category: "Cultural", subCategory: "Humor",
            image: "https://picsum.photos/seed/meme/600/400", regFee: "₹ 30",
            shortDescription: "Create hilarious and original memes based on given themes.",
            longDescription: "Unleash your inner meme lord! 'MemeCentral' is a competition for those with a sharp wit and a knack for visual humor. Participants will create original memes based on current events, pop culture, or a specific theme provided on the spot. Make us laugh, make us think, and become the meme champion!",
            rules: ["Individual participation only.","Theme will be announced on the spot.","Memes must be original creations (not copied from internet).","Content must be appropriate and respectful; no offensive or derogatory memes.","Submissions via Google Drive link or designated platform.","Judging based on humor, originality, relevance to theme, and visual appeal."],
            prizes: "Funky merchandise, gift vouchers, Certificates of Humor", contact: "memecentral.coord@example.com, +919123450038", date: "2025-03-16",
            isTeamEvent: false, requiresSubmission: true, coordinatorEmail: "memecentral.coord@example.com"
        },
        {
            id: 45, title: "Stardust (Bollywood Recreation)", category: "Cultural", subCategory: "Performance",
            image: "https://picsum.photos/seed/bollywood/600/400", regFee: "₹ 200 (per team)",
            shortDescription: "Recreate iconic Bollywood scenes or dance numbers.",
            longDescription: "Embrace the glitz and glamour of Bollywood! 'Stardust' invites teams to recreate famous Bollywood song-and-dance sequences or iconic movie scenes. Bring out your inner Shah Rukh Khan or Deepika Padukone, dazzle us with your choreography, expressions, and costumes. It's time for some cinematic magic!",
            rules: ["Teams of 3-10 members.","Performance duration: 5-8 minutes.","Chosen scene/song must be from a recognized Bollywood movie.","Music/dialogue tracks must be submitted beforehand via Google Drive link.","Judging based on accuracy of recreation, energy, expressions, and stage presence."],
            prizes: "Cash prizes, film-themed gifts, Certificates of Performance", contact: "stardust.coord@example.com, +919123450039", date: "2025-03-17",
            isTeamEvent: true, teamSize: { min: 3, max: 10 }, requiresSubmission: true, coordinatorEmail: "stardust.coord@example.com"
        },
        {
            id: 46, title: "Groove Gala (On the Spot Dance)", category: "Cultural", subCategory: "Dance",
            image: "https://picsum.photos/seed/groove/600/400", regFee: "₹ 80",
            shortDescription: "Showcase your freestyle dance skills on the spot.",
            longDescription: "Feel the beat and let loose! 'Groove Gala' is an on-the-spot freestyle dance competition. Participants will be given music and have to improvise their moves on the stage. It's a spontaneous celebration of rhythm and expression. No prior choreography, just pure dance energy!",
            rules: ["Individual participation only.","Performance duration: 60-90 seconds per round.","Music will be provided by the DJ.","Judging based on creativity, spontaneity, rhythm, and energy."],
            prizes: "Gift vouchers, dance accessories, Certificates of Groove", contact: "groovegala.coord@example.com, +919123450040", date: "2025-03-18",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "groovegala.coord@example.com"
        },
        {
            id: 47, title: "Dharohar (Folklore)", category: "Cultural", subCategory: "Performance",
            image: "https://picsum.photos/seed/folklore/600/400", regFee: "₹ 200 (per team)",
            shortDescription: "Exhibit the rich cultural heritage through traditional arts.",
            longDescription: "Celebrate the vibrant tapestry of Indian folklore! 'Dharohar' invites groups to showcase traditional folk dances, songs, or skits that represent the rich cultural heritage of various regions. Bring alive the stories, rituals, and spirit of Indian traditions through authentic performances.",
            rules: ["Teams of 5-15 members.","Performance duration: 7-12 minutes.","Authenticity and cultural accuracy are highly valued.","Participants must bring their own traditional costumes and props.","Music for dance/song must be provided beforehand via Google Drive link."],
            prizes: "Cash prizes, cultural artifact replicas, Certificates of Heritage", contact: "dharohar.coord@example.com, +919123450041", date: "2025-03-19",
            isTeamEvent: true, teamSize: { min: 5, max: 15 }, requiresSubmission: true, coordinatorEmail: "dharohar.coord@example.com"
        },
        {
            id: 48, title: "Antakshari", category: "Cultural", subCategory: "Music",
            image: "https://picsum.photos/seed/antakshari/600/400", regFee: "₹ 50 (per team)",
            shortDescription: "A melodious battle of Bollywood songs.",
            longDescription: "Get ready to sing your heart out in the timeless game of Antakshari! Teams will compete in rounds of musical memory, picking up songs from the last letter of the previous one. It's a fun, engaging, and melodious battle of Bollywood knowledge and vocal agility. Bring your passion for music and your vast song library!",
            rules: ["Teams of 3-5 members.","Standard Antakshari rules apply.","No use of mobile phones or song books.","Judges' decision on song validity and points is final."],
            prizes: "Fun prizes, singing accessories, Certificates of Melody", contact: "antakshari.coord@example.com, +919123450042", date: "2025-03-20",
            isTeamEvent: true, teamSize: { min: 3, max: 5 }, requiresSubmission: false, coordinatorEmail: "antakshari.coord@example.com"
        },
        {
            id: 49, title: "Dumb Charades", category: "Cultural", subCategory: "Performance",
            image: "https://picsum.photos/seed/charades/600/400", regFee: "₹ 40 (per team)",
            shortDescription: "Act out movie titles, songs, and phrases without speaking.",
            longDescription: "Silence speaks volumes in our hilarious Dumb Charades competition! Teams will take turns acting out movie titles, songs, or common phrases without uttering a single word. It's a game of creative gesturing, quick guesses, and endless laughter. Test your acting skills and communication without sound!",
            rules: ["Teams of 3-5 members.","Topics will be provided by the organizers.","Time limit for each turn.","No speaking, mouthing, or sound effects are allowed.","Judges' decision is final on validity of acts and guesses."],
            prizes: "Fun hampers, movie tickets, Certificates of Expression", contact: "dumbcharades.coord@example.com, +919123450043", date: "2025-03-21",
            isTeamEvent: true, teamSize: { min: 3, max: 5 }, requiresSubmission: false, coordinatorEmail: "dumbcharades.coord@example.com"
        },
        {
            id: 50, title: "Musical Chairs", category: "Cultural", subCategory: "Games",
            image: "https://picsum.photos/seed/musicalchairs/600/400", regFee: "₹ 20",
            shortDescription: "A classic fun game of speed and strategy.",
            longDescription: "Get ready for a nostalgic blast from the past with our Musical Chairs event! A fun and energetic game where participants race to grab a chair when the music stops. It's a test of speed, agility, and a little bit of luck. Last one standing wins!",
            rules: ["Individual participation.","Standard musical chairs rules apply.","No pushing, shoving, or dangerous conduct.","Organizer's decision is final."],
            prizes: "Small cash prize, gift voucher, Certificates of Fun", contact: "musicalchairs.coord@example.com, +919123450044", date: "2025-03-22",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "musicalchairs.coord@example.com"
        },
        {
            id: 51, title: "Movie Night", category: "Cultural", subCategory: "Recreation",
            image: "https://picsum.photos/seed/movienight/600/400", regFee: "Free",
            shortDescription: "Enjoy a relaxing evening with a movie screening.",
            longDescription: "Unwind after a day of events with a relaxing Movie Night! Join us for a special screening of a popular film, complete with popcorn and good company. It's a perfect way to chill out and enjoy a cinematic experience with fellow festival-goers.",
            rules: ["Open to all festival attendees.","First-come, first-served seating.","Maintain decorum during the screening.","No outside food or drinks (unless specified)."],
            prizes: "N/A (Recreational event)", contact: "movienight.coord@example.com, +919123450045", date: "2025-03-23",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "movienight.coord@example.com"
        },
        {
            id: 52, title: "Venusta (Fashion Show)", category: "Cultural", subCategory: "Fashion",
            image: "https://picsum.photos/seed/fashion/600/400", regFee: "₹ 200 (per model)",
            shortDescription: "Strut your stuff and set the stage on fire with your unique style.",
            longDescription: "Unleash your inner supermodel and ignite the runway! 'Venusta' is a dazzling spectacle of creativity, elegance, and unique style. Participants can showcase their own designs or model for others. Prepare for theme-based rounds that will challenge your fashion sensibilities and stage presence. Bring your best looks!",
            rules: ["Individual models or teams of models (max 10) are allowed. Fee is per model.","Themes for each round will be announced in advance or on the spot.","Participants must provide their own costumes, makeup, and music for their walk (music files to be submitted beforehand via Google Drive link).","Professional conduct expected.","Judging based on creativity, confidence, walk, and overall presentation."],
            prizes: "Best Designer Award, Best Model Award, Photoshoot opportunities, fashion magazine features", contact: "venusta.coord@example.com, +918901234567", date: "2025-03-21",
            isTeamEvent: true, teamSize: { min: 1, max: 10 }, requiresSubmission: true, coordinatorEmail: "venusta.coord@example.com"
        },
        {
            id: 53, title: "Prom Night", category: "Cultural", subCategory: "Social",
            image: "https://picsum.photos/seed/prom/600/400", regFee: "₹ 300",
            shortDescription: "Dance the night away in style at our glamorous Prom Night.",
            longDescription: "Get dressed in your finest and join us for a night of elegance, music, and unforgettable memories at the Prom Night! Dance to the latest beats, enjoy delicious refreshments, and capture stunning photos with your friends. A perfect end to the festival, filled with joy and celebration.",
            rules: ["Open to registered delegates and invited guests.","Dress code: Formal/Semi-formal.","Maintain decorum during the screening.","Photography and videography permitted within designated areas."],
            prizes: "Prom King & Queen titles, best dressed awards", contact: "promnight.coord@example.com, +919123450046", date: "2025-03-24",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "promnight.coord@example.com"
        },
        // Arts Events
        {
            id: 54, title: "Chitraganga (Painting)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/painting/600/400", regFee: "₹ 100",
            shortDescription: "Express your artistic vision through painting.",
            longDescription: "Unleash your inner artist in 'Chitraganga', our painting competition! Participants will bring their canvases to life with colors and creativity based on a given theme or open choice. All painting styles and mediums are welcome. Show us your unique perspective and technical skill on canvas.",
            rules: ["Individual participation only.","Theme will be announced on the spot or a day prior.","Participants must bring their own art supplies (brushes, paints, canvas/paper).","Time limit: 2-3 hours.","Judging based on creativity, originality, technique, and adherence to theme."],
            prizes: "Art supplies, gift vouchers, display in art gallery, Certificates of Artistry", contact: "chitraganga.coord@example.com, +919123450047", date: "2025-03-10",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "chitraganga.coord@example.com"
        },
        {
            id: 55, title: "Lok Natya (Nukkad Natak)", category: "Arts", subCategory: "Performing Arts",
            image: "https://picsum.photos/seed/nukkadnatak/600/400", regFee: "₹ 250 (per team)",
            shortDescription: "Perform powerful street plays on social themes.",
            longDescription: "Bring social issues to the forefront through compelling street theatre in 'Lok Natya' (Nukkad Natak)! Teams will perform short, impactful street plays on contemporary social themes, aiming to engage, provoke thought, and inspire change. Use your creativity to convey powerful messages to the public.",
            rules: ["Teams of 5-10 members.","Performance duration: 10-15 minutes.","Plays must be original or adapted with proper credits.","Themes will be socially relevant (e.g., public health, social justice).","Minimal props and costumes; focus on performance.","Judging based on script, acting, message impact, and audience engagement."],
            prizes: "Cash prizes, certificates, recognition for social impact", contact: "loknatya.coord@example.com, +919123450048", date: "2025-03-11",
            isTeamEvent: true, teamSize: { min: 5, max: 10 }, requiresSubmission: false, coordinatorEmail: "loknatya.coord@example.com"
        },
        {
            id: 56, title: "Doodle Dreams (Doodle Art)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/doodle/600/400", regFee: "₹ 70",
            shortDescription: "Unleash your imagination through intricate doodle art.",
            longDescription: "Let your pen dance on paper in 'Doodle Dreams'! This competition celebrates the art of doodling, where participants create intricate, imaginative, and expressive artworks using simple lines and patterns. Whether abstract or thematic, let your subconscious guide your pen to create a unique masterpiece.",
            rules: ["Individual participation only.","Theme will be announced on the spot.","Participants must bring their own pens (black/color ink) and drawing paper will be provided.","Time limit: 2 hours.","Judging based on creativity, complexity, originality, and artistic composition."],
            prizes: "Art supplies, sketchbooks, Certificates of Creativity", contact: "doodle.coord@example.com, +919123450049", date: "2025-03-12",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "doodle.coord@example.com"
        },
        {
            id: 57, title: "Sculpture Spectacle (Clay Art)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/sculpture/600/400", regFee: "₹ 120",
            shortDescription: "Mold and sculpt your imagination into a masterpiece with clay.",
            longDescription: "Transform raw clay into breathtaking forms in 'Sculpture Spectacle'! This event challenges participants to sculpt a masterpiece based on a given theme. Showcase your ability to mold, shape, and detail, bringing your artistic vision to three-dimensional life. Get your hands dirty and create something extraordinary!",
            rules: ["Individual participation only.","Theme will be provided on the spot.","Clay and basic sculpting tools will be provided; participants may bring their own specialized tools.","Time limit: 3 hours.","Judging based on creativity, technique, form, and adherence to theme."],
            prizes: "Sculpting tool kits, art books, Certificates of Craftsmanship", contact: "sculpture.coord@example.com, +919123450050", date: "2025-03-13",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "sculpture.coord@example.com"
        },
        {
            id: 58, title: "Tattoo Titans (Tattoo Art)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/tattoo/600/400", regFee: "₹ 150",
            shortDescription: "Showcase your artistic talent in temporary tattoo creation.",
            longDescription: "Unleash your inner tattoo artist in 'Tattoo Titans'! This competition is for artists to demonstrate their skills in creating intricate and beautiful temporary tattoos using various mediums (e.g., mehndi cones, body paints, temporary tattoo pens). Impress judges with your designs, precision, and creativity.",
            rules: ["Individual participation only.","Participants must bring their own non-permanent tattoo materials and design ideas.","Model (arm/leg area) must be provided by the participant or use provided mannequins.","Time limit: 1-2 hours.","Designs must be original and culturally sensitive.","Judging based on creativity, intricacy, neatness, and artistic merit."],
            prizes: "Tattoo art kits, professional art supplies, Certificates of Precision", contact: "tattoo.coord@example.com, +919123450051", date: "2025-03-14",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "tattoo.coord@example.com"
        },
        {
            id: 59, title: "Mehendi Delights (Mehendi Art)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/mehendi/600/400", regFee: "₹ 80",
            shortDescription: "Create intricate and beautiful Mehendi designs.",
            longDescription: "Adorn hands with intricate patterns in 'Mehendi Delights'! This competition celebrates the traditional art of Mehendi (henna) application. Participants will create beautiful and complex designs on a model's hand or provided practice boards. Showcase your precision, creativity, and flow in this delicate art form.",
            rules: ["Individual participation only.","Participants must bring their own Mehendi cones.","Model (hand) must be provided by the participant or practice boards will be provided.","Time limit: 1.5 - 2 hours.","Judging based on intricacy, neatness, originality of design, and overall aesthetic appeal."],
            prizes: "Mehendi kits, gift vouchers, Certificates of Elegance", contact: "mehendi.coord@example.com, +919123450052", date: "2025-03-15",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "mehendi.coord@example.com"
        },
        {
            id: 60, title: "Aripan (Rangoli)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/rangoli/600/400", regFee: "₹ 70",
            shortDescription: "Create beautiful and colorful traditional Rangoli designs.",
            longDescription: "Bring colors and intricate patterns to life in 'Aripan', our Rangoli competition! Participants will create stunning traditional or contemporary Rangoli designs using colored powders, flowers, or other materials. Showcase your precision, creativity, and cultural artistry in this vibrant event.",
            rules: ["Individual or Duo participation.","Theme will be announced on the spot.","Participants must bring their own Rangoli colors and materials.","Time limit: 2-3 hours.","Judging based on creativity, neatness, color combination, and adherence to theme."],
            prizes: "Art supplies, gift vouchers, Certificates of Vibrance", contact: "aripan.coord@example.com, +919123450053", date: "2025-03-16",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "aripan.coord@example.com"
        },
        {
            id: 61, title: "Recycled Wonders (Waste Art)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/wasteart/600/400", regFee: "₹ 80",
            shortDescription: "Transform waste materials into creative art pieces.",
            longDescription: "Turn trash into treasure in 'Recycled Wonders'! This competition challenges participants to create innovative and aesthetically pleasing art pieces using only recycled or waste materials. Promote environmental awareness through your creativity and show how discarded items can find new life as art.",
            rules: ["Individual or Duo participation.","Participants must bring their own recycled materials (e.g., plastic bottles, newspapers, cardboard).","Basic adhesives and cutting tools may be provided; participants may bring their own specialized tools.","Time limit: 3-4 hours.","Judging based on creativity, originality, effective use of materials, and message conveyed."],
            prizes: "Eco-friendly products, gift vouchers, Certificates of Innovation", contact: "recycleart.coord@example.com, +919123450054", date: "2025-03-17",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "recycleart.coord@example.com"
        },
        {
            id: 62, title: "Cyber-Creation (Digital Art)", category: "Arts", subCategory: "Digital Arts",
            image: "https://picsum.photos/seed/digitalart/600/400", regFee: "₹ 100",
            shortDescription: "Create stunning digital artworks using software.",
            longDescription: "Dive into the digital canvas in 'Cyber-Creation', our digital art competition! Artists will use software (e.g., Photoshop, Illustrator, Procreate) to produce original digital artworks. Showcase your mastery of digital tools, creativity, and design principles. Whether it's illustration, photo manipulation, or graphic design, let your digital imagination soar!",
            rules: ["Individual participation only.","Participants must bring their own laptops/tablets with necessary software installed.","Theme will be announced on the spot or a day prior.","Time limit: 3-4 hours.","Final artwork must be submitted as a high-resolution image file via Google Drive link."],
            prizes: "Software licenses, graphic tablets, Certificates of Digital Excellence", contact: "digitalart.coord@example.com, +919123450055", date: "2025-03-18",
            isTeamEvent: false, requiresSubmission: true, coordinatorEmail: "digitalart.coord@example.com"
        },
        {
            id: 63, title: "Tee-Splash (T-Shirt Painting)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/tshirt/600/400", regFee: "₹ 100",
            shortDescription: "Design and paint unique T-shirts.",
            longDescription: "Turn a plain T-shirt into a wearable masterpiece in 'Tee-Splash'! This T-shirt painting competition challenges participants to design and paint unique artworks directly onto fabric. Express your creativity and personal style, creating a one-of-a-kind garment. Show off your fashion-forward artistic flair!",
            rules: ["Individual participation only.","A plain white T-shirt will be provided.","Participants must bring their own fabric paints and brushes.","Theme will be announced on the spot.","Time limit: 2-3 hours.","Judging based on creativity, originality, color combination, and neatness."],
            prizes: "Custom T-shirts, art supplies, Certificates of Style", contact: "teepaint.coord@example.com, +919123450056", date: "2025-03-19",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "teepaint.coord@example.com"
        },
        {
            id: 64, title: "Clinical Cartoons (Medical Subject Caricature)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/cartoon/600/400", regFee: "₹ 70",
            shortDescription: "Create humorous caricatures based on medical subjects.",
            longDescription: "Inject humor into healthcare with 'Clinical Cartoons'! This unique competition invites participants to create funny and insightful caricatures or cartoons based on medical subjects, doctor-patient interactions, or student life in medical college. Use your artistic talent to bring a smile to everyone's face while subtly highlighting medical realities.",
            rules: ["Individual participation only.","Theme will be given related to medical subjects.","Participants must bring their own drawing materials (paper will be provided).","Time limit: 2 hours.","Judging based on humor, originality, artistic merit, and relevance to the medical theme."],
            prizes: "Art supplies, medical-themed merchandise, Certificates of Wit", contact: "medcartoon.coord@example.com, +919123450057", date: "2025-03-20",
            isTeamEvent: false, requiresSubmission: false, coordinatorEmail: "medcartoon.coord@example.com"
        },
        {
            id: 65, title: "Magic Mask (Face Painting)", category: "Arts", subCategory: "Visual Arts",
            image: "https://picsum.photos/seed/facepaint/600/400", regFee: "₹ 90",
            shortDescription: "Transform faces into artistic canvases with face painting.",
            longDescription: "Unleash your inner illusionist in 'Magic Mask', our face painting competition! Participants will transform a model's face into a captivating work of art using face paints. Showcase your creativity, precision, and ability to blend colors and create imaginative designs. Bring faces to life with your artistic touch!",
            rules: ["Individual or Duo participation (one painter, one model).","Participants must bring their own non-toxic face paints and brushes.","Model (arm/leg area) must be provided by the participant or use provided mannequins.","Theme will be announced on the spot.","Time limit: 1.5 - 2 hours.","Judging based on creativity, neatness, color blending, and overall impact."],
            prizes: "Face paint kits, makeup vouchers, Certificates of Transformation", contact: "facepaint.coord@example.com, +919123450058", date: "2025-03-21",
            isTeamEvent: true, teamSize: { min: 1, max: 2 }, requiresSubmission: false, coordinatorEmail: "facepaint.coord@example.com"
        }
    ];

    // --- DOM Elements ---
    const eventsGrid = document.querySelector('.events-grid');
    const modal = document.getElementById('eventRegistrationModal');
    const closeModalButton = document.getElementById('closeModalButton');
    const eventRegForm = document.getElementById('eventRegForm');
    const modalEventTitle = document.getElementById('modalEventTitle');
    const modalEventFee = document.getElementById('modalEventFee');
    const formEventIdInput = document.getElementById('formEventId');
    const formEventNameInput = document.getElementById('formEventName');
    const formEventFeeValueInput = document.getElementById('formEventFeeValue');
    const formCoordinatorEmailInput = document.getElementById('formCoordinatorEmail');
    const formIsTeamEventInput = document.getElementById('formIsTeamEvent');
    const formResponseMessage = document.getElementById('formResponseMessage');
    const modalSubmitButton = document.getElementById('modalSubmitButton');
    const teamFieldsContainer = document.getElementById('teamFieldsContainer');
    const regTeamNameInput = document.getElementById('regTeamName');
    const regTeamMembersCountInput = document.getElementById('regTeamMembersCount');
    const groupMemberDetailsContainer = document.getElementById('groupMemberDetailsContainer');
    const submissionLinkContainer = document.getElementById('submissionLinkContainer');
    const regSubmissionLinkInput = document.getElementById('regSubmissionLink');
    const regFullName = document.getElementById('regFullName');
    const regEmail = document.getElementById('regEmail');
    const regPhone = document.getElementById('regPhone');
    const categoryFiltersContainer = document.getElementById('categoryFilters');
    const subCategorySelect = document.getElementById('subCategorySelect');
    
    // New Feature DOM Elements
    const notificationBell = document.getElementById('notificationBell');
    const notificationBadge = document.getElementById('notificationBadge');
    const notificationDropdown = document.getElementById('notificationDropdown');
    const notificationList = document.getElementById('notificationList');
    const noNotificationsMessage = document.getElementById('no-notifications');
    const leaderboardSelect = document.getElementById('leaderboard-select');
    const leaderboardBody = document.getElementById('leaderboard-body');
    const leaderboardMessage = document.getElementById('leaderboard-message');

    let currentEvent = null;    
    let currentCategory = 'All';
    let currentSubCategory = 'All';


    function getNumericFee(feeString) {
        if (typeof feeString === 'string' && feeString.toLowerCase().includes('free')) return 0;
        const match = feeString.match(/₹\s*(\d+)/);
        return match ? parseInt(match[1], 10) : 0;
    }

    function renderEvents() {
        eventsGrid.innerHTML = '';
        let filteredEvents = eventsData;

        if (currentCategory !== 'All') {
            filteredEvents = filteredEvents.filter(event => event.category === currentCategory);
        }
        if (currentSubCategory !== 'All') {
            filteredEvents = filteredEvents.filter(event => event.subCategory === currentSubCategory);
        }

        if (filteredEvents.length === 0) {
            eventsGrid.innerHTML = '<p class="col-span-full text-center text-pink-400 text-xl my-10">No events found for the selected filters. Try a different combination!</p>';
        } else {
            filteredEvents.forEach(event => {
                const eventCard = document.createElement('article');
                eventCard.className = 'event-card';
                eventCard.setAttribute('data-aos', 'fade-up');
                eventCard.setAttribute('data-event-id', event.id);

                const rulesHtml = event.rules.map(rule => `<li>- ${rule}</li>`).join('');

                eventCard.innerHTML = `
                    <div class="event-card-clickable-area" role="button" tabindex="0" aria-label="Register for ${event.title}">
                        <img src="${event.image}" alt="${event.title}" class="event-image" onerror="this.onerror=null;this.src='https://picsum.photos/seed/fallback/600/400';" />
                        <div class="event-content">
                            <h2 class="event-title">${event.title}</h2>
                            <div class="event-fee">Reg. Fee: ${event.regFee}</div>
                            <p class="event-short-description">${event.shortDescription}</p>
                            <div class="event-date">Date: ${event.date}</div>
                            <div class="accordion-header">Details & Rules</div>
                            <div class="accordion-content">
                                <p>${event.longDescription}</p>
                                <p><strong>Rules:</strong></p>
                                <ul>${rulesHtml}</ul>
                                <p><strong>Prizes:</strong> ${event.prizes}</p>
                                <p><strong>Contact:</strong> ${event.contact}</p>
                            </div>
                        </div>
                    </div>
                    <div class="share-container">
                        <div class="share-buttons-container">
                            <a href="#" class="share-button whatsapp" data-platform="whatsapp" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></a>
                            <a href="#" class="share-button telegram" data-platform="telegram" title="Share on Telegram"><i class="fab fa-telegram"></i></a>
                            <a href="#" class="share-button facebook" data-platform="facebook" title="Share on Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="share-button instagram" data-platform="instagram" title="Share on Instagram"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                `;
                eventsGrid.appendChild(eventCard);
                
                // Add listeners
                const accordionHeader = eventCard.querySelector('.accordion-header');
                accordionHeader.addEventListener('click', toggleAccordion);
                
                const clickableArea = eventCard.querySelector('.event-card-clickable-area');
                clickableArea.addEventListener('click', (e) => {
                    if (!e.target.closest('.accordion-header')) {
                        openRegistrationModal(event.id);
                    }
                });
                clickableArea.addEventListener('keydown', (e) => {
                    if ((e.key === 'Enter' || e.key === ' ') && !e.target.closest('.accordion-header')) {
                        e.preventDefault();
                        openRegistrationModal(event.id);
                    }
                });

                eventCard.querySelectorAll('.share-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        const platform = e.currentTarget.getAttribute('data-platform');
                        handleShare(platform, event);
                    });
                });
            });
        }
        updateLeaderboardDropdown(filteredEvents);
        AOS.refresh();
    }
    
    // --- Toast Notification for Copy Link ---
    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast-notification');
        if (!toast) return;
        
        toast.textContent = message;
        toast.style.backgroundColor = type === 'error' ? '#b91c1c' : '#1f2937'; // red-800 or gray-800
        
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    function fallbackCopyTextToClipboard(text) {
        const textArea = document.createElement("textarea");
        textArea.value = text;
        
        textArea.style.top = "0";
        textArea.style.left = "0";
        textArea.style.position = "fixed";

        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        try {
            const successful = document.execCommand('copy');
            const msg = successful ? 'successful' : 'unsuccessful';
            console.log('Fallback: Copying text command was ' + msg);
            return Promise.resolve();
        } catch (err) {
            console.error('Fallback: Oops, unable to copy', err);
            return Promise.reject(err);
        } finally {
            document.body.removeChild(textArea);
        }
    }

    function copyTextToClipboard(text) {
        if (!navigator.clipboard) {
            return fallbackCopyTextToClipboard(text);
        }
        return navigator.clipboard.writeText(text);
    }

    // --- Social Media Sharing ---
    // FIX: Updated to generate unique event URLs
    function handleShare(platform, event) {
        const baseUrl = window.location.origin + window.location.pathname;
        const eventUrl = `${baseUrl}?event=${event.id}`; // Unique URL for the event
        const text = `Check out this awesome event at CEREBREXIA'25: *${event.title}*! Find out more here:`;
        
        let shareUrl;

        switch(platform) {
            case 'whatsapp': 
                shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}%20${encodeURIComponent(eventUrl)}`; 
                break;
            case 'telegram': 
                shareUrl = `https://t.me/share/url?url=${encodeURIComponent(eventUrl)}&text=${encodeURIComponent(text)}`; 
                break;
            case 'facebook': 
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(eventUrl)}&quote=${encodeURIComponent(text)}`; 
                break;
            case 'instagram':
                const copyText = `Check out "${event.title}" at CEREBREXIA'25! ${eventUrl}`;
                copyTextToClipboard(copyText).then(() => {
                    showToast('Event details copied! Paste in your story or chat.');
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                    showToast('Could not copy link.', 'error');
                });
                return; // Don't open a new window for Instagram
            default: return;
        }
        window.open(shareUrl, '_blank', 'noopener,noreferrer');
    }

    // --- Real-time Notifications ---
    function initNotifications() {
        // Use the public collection for announcements
        const notificationsRef = collection(db, "artifacts", appId, "public", "announcements");
        const q = query(notificationsRef, orderBy("timestamp", "desc"));

        onSnapshot(q, (snapshot) => {
            let count = 0;
            notificationList.innerHTML = ''; 
            if (snapshot.empty) {
                notificationList.appendChild(noNotificationsMessage);
                noNotificationsMessage.style.display = 'block';
            } else {
                noNotificationsMessage.style.display = 'none';
                snapshot.forEach(doc => {
                    const notification = doc.data();
                    const item = document.createElement('div');
                    item.className = 'notification-item';
                    item.innerHTML = `
                        <strong>${notification.title}</strong>
                        <p>${notification.message}</p>
                        <small>${new Date(notification.timestamp.toDate()).toLocaleString()}</small>
                    `;
                    notificationList.appendChild(item);
                    count++;
                });
            }
            
            if (count > 0) {
                notificationBadge.textContent = count;
                notificationBadge.style.display = 'block';
            } else {
                notificationBadge.style.display = 'none';
            }
        });

        notificationBell.addEventListener('click', (e) => {
            e.stopPropagation();
            notificationDropdown.style.display = notificationDropdown.style.display === 'block' ? 'none' : 'block';
        });
        
        document.addEventListener('click', (e) => {
            if (notificationDropdown && !notificationDropdown.contains(e.target) && !notificationBell.contains(e.target)) {
                notificationDropdown.style.display = 'none';
            }
        });
    }

    // --- Leaderboard Logic ---
    function updateLeaderboardDropdown(filteredEvents) {
        const currentSelectedValue = leaderboardSelect.value;
        leaderboardSelect.innerHTML = '<option value="">-- Choose an Event --</option>';
        let isCurrentSelectionStillAvailable = false;

        filteredEvents.forEach(event => {
            const option = document.createElement('option');
            option.value = event.id;
            option.textContent = event.title;
            leaderboardSelect.appendChild(option);
            if (option.value === currentSelectedValue) {
                isCurrentSelectionStillAvailable = true;
            }
        });

        if (isCurrentSelectionStillAvailable) {
            leaderboardSelect.value = currentSelectedValue;
        } else {
            fetchAndDisplayLeaderboard(""); // Reset view if the selected event is no longer in the filtered list
        }
    }

    function fetchAndDisplayLeaderboard(eventId) {
        if (!eventId) {
            leaderboardBody.innerHTML = '';
            leaderboardMessage.textContent = 'Select a competition to view the leaderboard.';
            leaderboardMessage.style.display = 'block';
            return;
        }
        
        leaderboardMessage.textContent = 'Loading...';
        leaderboardMessage.style.display = 'block';
        leaderboardBody.innerHTML = '';

        // Leaderboard data is public, so it's under 'public' collection
        const leaderboardDocRef = doc(db, "artifacts", appId, "public", "leaderboards", `event_${eventId}`);
        onSnapshot(leaderboardDocRef, (docSnap) => {
            if (docSnap.exists()) {
                const data = docSnap.data();
                const sortedScores = data.scores.sort((a, b) => b.score - a.score);

                leaderboardBody.innerHTML = '';
                if (sortedScores.length > 0) {
                    leaderboardMessage.style.display = 'none';
                    sortedScores.forEach((entry, index) => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="rank">${index + 1}</td>
                            <td>${entry.name}</td>
                            <td>${entry.score}</td>
                        `;
                        leaderboardBody.appendChild(row);
                    });
                } else {
                    leaderboardMessage.textContent = 'No scores recorded for this event yet.';
                }
            } else {
                leaderboardMessage.textContent = 'Leaderboard for this event is not yet available.';
            }
        }, (error) => {
            console.error("Error fetching leaderboard:", error);
            leaderboardMessage.textContent = 'Could not load leaderboard data.';
        });
    }

    function initLeaderboard() {
        if (leaderboardSelect) {
            leaderboardSelect.addEventListener('change', (e) => {
                const selectedEventId = e.target.value;
                fetchAndDisplayLeaderboard(selectedEventId);
            });
        }
    }
    
    // --- Existing Functions (Adapted) ---

    function renderSubCategoryFilters() {
        subCategorySelect.innerHTML = '<option value="All">All Sub-Categories</option>';
        const relevantSubCategories = new Set();
        eventsData.forEach(event => {
            if (currentCategory === 'All' || event.category === currentCategory) {
                relevantSubCategories.add(event.subCategory);
            }
        });
        const sortedSubCategories = Array.from(relevantSubCategories).sort();
        sortedSubCategories.forEach(subCat => {
            const option = document.createElement('option');
            option.value = subCat;
            option.textContent = subCat;
            subCategorySelect.appendChild(option);
        });
    }

    function toggleAccordion(e) {
        e.stopPropagation();
        const header = e.currentTarget;
        const content = header.nextElementSibling;
        const isActive = header.classList.contains('active');
        document.querySelectorAll('.accordion-header.active').forEach(openHeader => {
            if (openHeader !== header) {
                openHeader.classList.remove('active');
                openHeader.nextElementSibling.classList.remove('open');
            }
        });
        header.classList.toggle('active', !isActive);
        content.classList.toggle('open', !isActive);
    }
    
    function generateTeamMemberInputs(count) {
        groupMemberDetailsContainer.innerHTML = '';
        const additionalMembers = Math.max(0, count - 1); // Exclude the leader

        if (additionalMembers > 0) {
            for (let i = 0; i < additionalMembers; i++) {
                const memberDiv = document.createElement('div');
                memberDiv.className = 'grid md:grid-cols-2 gap-4 mt-3 pt-3 border-t border-dashed border-pink-500/30';
                memberDiv.innerHTML = `
                    <div class="form-group">
                        <label for="teamMemberName${i+2}">Member ${i+2} Name: <span class="text-red-500">*</span></label>
                        <input type="text" id="teamMemberName${i+2}" name="teamMemberName${i+2}" placeholder="Member ${i+2} Full Name" required>
                    </div>
                    <div class="form-group">
                        <label for="teamMemberEmail${i+2}">Member ${i+2} Email: <span class="text-red-500">*</span></label>
                        <input type="email" id="teamMemberEmail${i+2}" name="teamMemberEmail${i+2}" placeholder="Member ${i+2} Email" required>
                    </div>
                `;
                groupMemberDetailsContainer.appendChild(memberDiv);
            }
        }
    }

    // UPDATED openRegistrationModal Function
    function openRegistrationModal(eventId) {
        currentEvent = eventsData.find(e => e.id === eventId);
        if (!currentEvent) return;

        modalEventTitle.textContent = `Register for: ${currentEvent.title}`;
        modalEventFee.textContent = `Registration Fee: ${currentEvent.regFee}`;
        eventRegForm.reset();

        formEventIdInput.value = currentEvent.id;
        formEventNameInput.value = currentEvent.title;
        formEventFeeValueInput.value = getNumericFee(currentEvent.regFee);
        formCoordinatorEmailInput.value = currentEvent.coordinatorEmail;
        formIsTeamEventInput.value = currentEvent.isTeamEvent;

        // Pre-fill user details if logged in
        if (currentUserProfile) {
            regFullName.value = currentUserProfile.full_name || '';
            regEmail.value = currentUserProfile.email || '';
            regPhone.value = currentUserProfile.phone || '';
        } else {
            regFullName.value = '';
            regEmail.value = '';
            regPhone.value = '';
        }

        if (currentEvent.isTeamEvent) {
            teamFieldsContainer.classList.remove('hidden-field');
            regTeamNameInput.required = true;
            regTeamMembersCountInput.required = true;
            const minSize = currentEvent.teamSize?.min || 1;
            const maxSize = currentEvent.teamSize?.max || 10;
            regTeamMembersCountInput.min = minSize;
            regTeamMembersCountInput.max = maxSize;
            regTeamMembersCountInput.value = minSize;
            generateTeamMemberInputs(minSize);
        } else {
            teamFieldsContainer.classList.add('hidden-field');
            regTeamNameInput.required = false;
            regTeamMembersCountInput.required = false;
            groupMemberDetailsContainer.innerHTML = '';
        }

        regTeamMembersCountInput.removeEventListener('input', handleTeamMemberCountChange);
        regTeamMembersCountInput.addEventListener('input', handleTeamMemberCountChange);

        if (currentEvent.requiresSubmission) {
            submissionLinkContainer.classList.remove('hidden-field');
            regSubmissionLinkInput.required = true;
        } else {
            submissionLinkContainer.classList.add('hidden-field');
            regSubmissionLinkInput.required = false;
        }

        // Check auth status to enable/disable submit button
        if (currentUser) {
            modalSubmitButton.disabled = false;
            modalSubmitButton.textContent = 'Submit Entry';
        } else {
            modalSubmitButton.disabled = true;
            modalSubmitButton.textContent = 'Authenticating... Please wait.';
        }

        formResponseMessage.classList.add('hidden');
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function handleTeamMemberCountChange(e) {
        let count = parseInt(e.target.value);
        const event = eventsData.find(ev => ev.id === parseInt(formEventIdInput.value));
        if (event && event.isTeamEvent && event.teamSize) {
            const minSize = event.teamSize.min || 1;
            const maxSize = event.teamSize.max || 10;
            if (isNaN(count) || count < minSize) count = minSize;
            else if (count > maxSize) count = maxSize;
            e.target.value = count;
        }
        generateTeamMemberInputs(count);
    }

    function closeModal() {
        if (!modal) return;
        modal.style.display = "none";
        document.body.style.overflow = 'auto';
        eventRegForm.reset();
        teamFieldsContainer.classList.add('hidden-field');
        submissionLinkContainer.classList.add('hidden-field');
        groupMemberDetailsContainer.innerHTML = '';
        modalSubmitButton.disabled = false;
        modalSubmitButton.textContent = 'Submit Entry';
        formResponseMessage.classList.add('hidden');
    }

    closeModalButton.onclick = closeModal;
    window.onclick = (event) => { if (event.target == modal) closeModal(); };
    document.addEventListener('keydown', (event) => { if (event.key === "Escape") closeModal(); });

    // UPDATED eventRegForm.addEventListener('submit', ...)
    eventRegForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        modalSubmitButton.disabled = true;
        modalSubmitButton.textContent = 'Processing...';
        formResponseMessage.className = 'p-3 rounded-md';
        formResponseMessage.classList.add('hidden');

        if (!currentUser) {
            formResponseMessage.textContent = "Authentication error. Please refresh and try again.";
            formResponseMessage.classList.add('error');
            formResponseMessage.classList.remove('hidden');
            modalSubmitButton.disabled = false;
            modalSubmitButton.textContent = 'Submit Entry';
            return;
        }

        const formData = new FormData(eventRegForm);
        const data = Object.fromEntries(formData.entries());
        const userId = currentUser.uid;

        // Ensure teamDetails is correctly structured for backend
        const teamDetailsArray = [];
        const isTeamEventFromForm = data.isTeamEvent === 'true';
        const teamMembersCount = parseInt(data.teamMembersCount) || 0;

        if (isTeamEventFromForm) {
            // Add leader as first member
            teamDetailsArray.push({ name: data.fullName, email: data.email, isLeader: true });
            for (let i = 0; i < teamMembersCount - 1; i++) {
                const memberName = formData.get(`teamMemberName${i + 2}`);
                const memberEmail = formData.get(`teamMemberEmail${i + 2}`);
                if (memberName && memberEmail) {
                    teamDetailsArray.push({ name: memberName, email: memberEmail, isLeader: false });
                }
            }
        } else {
            // For individual events, the user is the only member
            teamDetailsArray.push({ name: data.fullName, email: data.email, isLeader: true });
        }

        const registrationPayload = {
            userId: userId,
            eventId: data.eventId,
            eventName: data.eventName,
            fullName: data.fullName,
            email: data.email,
            phone: data.phone,
            isTeamEvent: data.isTeamEvent, // Send as string 'true'/'false'
            teamName: data.teamName || null,
            teamMembersCount: teamMembersCount,
            teamDetails: teamDetailsArray, // Send the structured array
            submissionLink: data.submissionLink || null,
            purpose: data.purpose || null,
            eventFeeValue: parseFloat(data.eventFeeValue), // Send as number
            coordinatorEmail: data.coordinatorEmail
        };

        try {
            // Make API call to your backend
            const response = await fetch(`${backendBaseUrl}/api/register-event`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(registrationPayload),
            });

            const result = await response.json();

            if (!response.ok) {
                throw new Error(result.message || 'Server error during registration initiation.');
            }

            if (result.orderId) { // This means it's a paid event and Razorpay order was created
                const options = {
                    key: result.razorpayKey, // Public key from backend
                    amount: result.amount, // Amount in paise
                    currency: result.currency,
                    name: "CEREBREXIA'25",
                    description: `Registration for ${data.eventName}`,
                    order_id: result.orderId,
                    handler: async function (response) {
                        // Payment successful, send details to backend callback
                        try {
                            const paymentCallbackResponse = await fetch(`${backendBaseUrl}/api/payment/callback`, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    razorpay_payment_id: response.razorpay_payment_id,
                                    razorpay_order_id: response.razorpay_order_id,
                                    razorpay_signature: response.razorpay_signature,
                                    dbRegistrationId: result.dbRegistrationId, // Pass the Firestore doc ID
                                    registration_type: 'event' // Indicate it's an event registration
                                }),
                            });

                            const callbackResult = await paymentCallbackResponse.json();

                            if (paymentCallbackResponse.ok && callbackResult.status === 'success') {
                                formResponseMessage.textContent = `Payment successful and registration confirmed for ${data.eventName}!`;
                                formResponseMessage.classList.add('success');
                                showToast(`Registration for ${data.eventName} successful!`);
                            } else {
                                throw new Error(callbackResult.message || 'Payment verification failed.');
                            }
                        } catch (callbackError) {
                            console.error('Error during payment callback:', callbackError);
                            formResponseMessage.textContent = `Payment successful, but registration confirmation failed. Please contact support.`;
                            formResponseMessage.classList.add('error');
                            showToast('Payment confirmed, but registration update failed.', 'error');
                        } finally {
                            formResponseMessage.classList.remove('hidden');
                            modalSubmitButton.disabled = false;
                            modalSubmitButton.textContent = 'Submit Entry';
                            setTimeout(closeModal, 4000);
                        }
                    },
                    prefill: {
                        name: data.fullName,
                        email: data.email,
                        contact: data.phone
                    },
                    notes: {
                        registrationId: result.dbRegistrationId,
                        userId: userId,
                        eventName: data.eventName
                    },
                    theme: {
                        color: "#ff00ff" // Neon pink theme
                    }
                };

                const rzp = new Razorpay(options);
                rzp.on('payment.failed', function (response) {
                    console.error('Razorpay Payment Failed:', response.error);
                    formResponseMessage.textContent = `Payment failed: ${response.error.description || 'Unknown error'}. Please try again.`;
                    formResponseMessage.classList.add('error');
                    formResponseMessage.classList.remove('hidden');
                    modalSubmitButton.disabled = false;
                    modalSubmitButton.textContent = 'Submit Entry';
                    showToast('Payment failed.', 'error');
                });
                rzp.open();

            } else { // Free event registration (backend handles completion directly)
                formResponseMessage.textContent = `Successfully registered for ${data.eventName}!`;
                formResponseMessage.classList.add('success');
                formResponseMessage.classList.remove('hidden');
                showToast(`Registration for ${data.eventName} successful!`);
                modalSubmitButton.disabled = false;
                modalSubmitButton.textContent = 'Submit Entry';
                setTimeout(closeModal, 4000);
            }

        } catch (error) {
            console.error('Error submitting registration:', error);
            formResponseMessage.textContent = error.message || 'Error submitting registration. Please try again.';
            formResponseMessage.classList.add('error');
            formResponseMessage.classList.remove('hidden');
            modalSubmitButton.disabled = false;
            modalSubmitButton.textContent = 'Submit Entry';
            showToast('Registration failed.', 'error');
        }
    });

    // --- NEW: Function to handle incoming links with event parameter ---
    function handleDirectEventLink() {
        const urlParams = new URLSearchParams(window.location.search);
        const eventId = urlParams.get('event');

        if (eventId) {
            const eventCard = document.querySelector(`.event-card[data-event-id='${eventId}']`);

            if (eventCard) {
                // Scroll to the card
                eventCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                // Highlight the card temporarily
                eventCard.style.transition = 'box-shadow 0.5s ease-in-out';
                eventCard.style.boxShadow = '0 0 40px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.6)';

                // Open the accordion
                const accordionHeader = eventCard.querySelector('.accordion-header');
                if (accordionHeader && !accordionHeader.classList.contains('active')) {
                    accordionHeader.classList.add('active');
                    accordionHeader.nextElementSibling.classList.add('open');
                }

                // Remove the highlight after a few seconds
                setTimeout(() => {
                    eventCard.style.boxShadow = ''; // Reverts to the CSS-defined shadow
                }, 3000);
            }
        }
    }

    // --- Initial Setup on DOM Load ---
    document.addEventListener('DOMContentLoaded', () => {
        AOS.init({ once: true, mirror: false });

        // Navigation Menu Logic
        const newMenuToggleButton = document.getElementById('newMenuToggleButton');
        const fullScreenNav = document.getElementById('fullScreenNav');
        const navCloseButton = document.getElementById('navCloseButton');

        if (newMenuToggleButton && fullScreenNav && navCloseButton) {
            const toggleNav = () => {
                const isExpanded = newMenuToggleButton.getAttribute('aria-expanded') === 'true';
                newMenuToggleButton.setAttribute('aria-expanded', String(!isExpanded));
                newMenuToggleButton.classList.toggle('open');
                fullScreenNav.classList.toggle('active');
                document.body.style.overflow = fullScreenNav.classList.contains('active') ? 'hidden' : '';
            };
            newMenuToggleButton.addEventListener('click', toggleNav);
            navCloseButton.addEventListener('click', toggleNav);
        }

        // Header Scroll Logic
        let lastScrollTop = 0;
        const header = document.querySelector('header');
        if (header) {
            window.addEventListener('scroll', () => {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                if (scrollTop > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
                if (scrollTop > lastScrollTop && scrollTop > header.offsetHeight) {
                    header.classList.add('hidden');
                    header.classList.remove('visible');
                } else {
                    header.classList.remove('hidden');
                    header.classList.add('visible');
                }
                lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
            }, { passive: true });
        }


        categoryFiltersContainer.querySelectorAll('.category-filter-item').forEach(button => {
            button.addEventListener('click', (e) => {
                categoryFiltersContainer.querySelectorAll('.category-filter-item').forEach(btn => btn.classList.remove('active'));
                e.currentTarget.classList.add('active');
                currentCategory = e.currentTarget.getAttribute('data-category');
                currentSubCategory = 'All';
                renderSubCategoryFilters();
                renderEvents();
            });
        });

        subCategorySelect.addEventListener('change', (e) => {
            currentSubCategory = e.target.value;
            renderEvents();
        });

        renderSubCategoryFilters();
        renderEvents();
        handleDirectEventLink(); // Call the new function to check for event links
        initLeaderboard();
        initNotifications();

        // Modal Logic (Policy and Team)
        const policyModal = document.getElementById('policyModal');
        const teamModal = document.getElementById('teamModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const policyModalCloseBtn = policyModal.querySelector('.modal-close-btn');
        const teamModalCloseBtn = document.getElementById('teamModalCloseBtn');
        const mainBody = document.body;

        const policyContent = {
            privacy: {
                title: "Privacy Policy",
                body: `<h3>Data Collection</h3><p>We collect information you provide directly to us, such as when you register for an event, subscribe to our newsletter, or otherwise communicate with us. This information may include your name, email address, phone number, and college name.</p><h3>Data Usage</h3><p>We use the information we collect to:</p><ul><li>Operate and maintain the CEREBREXIA'25 fest.</li><li>Process your registrations and participation in events.</li><li>Communicate with you about the event, including updates, and promotional materials.</li><li>Respond to your comments, questions, and requests.</li></ul><h3>Data Sharing</h3><p>We do not share your personal information with third parties without your consent, except to comply with laws or to protect our rights.</p>`
            },
            terms: {
                title: "Terms & Conditions",
                body: `<h3>General</h3><p>By accessing our website and registering for CEREBREXIA'25, you agree to be bound by these terms and conditions, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws.</p><h3>Registration</h3><p>All participants must register through the official website. Registration fees are non-refundable unless otherwise specified. The organizers reserve the right to refuse admission to any participant.</p><h3>Conduct</h3><p>All attendees are expected to behave professionally. Harassment and other exclusionary behavior are not acceptable and may result in being expelled from the event without a refund.</p>`
            },
            code: {
                title: "Code of Conduct",
                body: `<h3>Our Pledge</h3><p>We are dedicated to providing a harassment-free experience for everyone, regardless of gender, gender identity and expression, sexual orientation, disability, physical appearance, body size, race, or religion. We do not tolerate harassment of participants in any form.</p><h3>Expected Behavior</h3><ul><li>Be considerate, respectful, and collaborative.</li><li>Refrain from demeaning, discriminatory, or harassing behavior and speech.</li><li>Be mindful of your surroundings and of your fellow participants.</li></ul><h3>Consequences of Unacceptable Behavior</h3><p>Anyone asked to stop unacceptable behavior is expected to comply immediately. The organizers may take any action they deem appropriate, including warning the offender or expulsion from the event without a refund.</p>`
            },
            refund: {
                title: "Refund Policy",
                body: `<h3>General Policy</h3><p>All registration fees for events at CEREBREXIA'25 are non-refundable. We encourage you to be certain of your participation before registering.</p><h3>Event Cancellation</h3><p>In the unlikely scenario that an event is cancelled by the organizers, a full refund of the registration fee for that specific event will be processed. The mode of refund will be communicated to the registered participants via email.</p><h3>Exceptions</h3><p>Exceptions to the no-refund policy may be considered on a case-by-case basis under extraordinary circumstances. Such requests must be submitted in writing to our official email address and will be at the sole discretion of the organizing committee.</p>`
            }
        };

        function openPolicyModal(policyType) {
            const content = policyContent[policyType];
            if (content) {
                modalTitle.innerHTML = content.title;
                modalBody.innerHTML = content.body;
                policyModal.classList.add('active');
                mainBody.style.overflow = 'hidden';
            }
        }

        function closePolicyModal() {
            policyModal.classList.remove('active');
            if (!teamModal.classList.contains('active')) {
                mainBody.style.overflow = '';
            }
        }
        
        document.querySelectorAll('.policy-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const policyType = link.getAttribute('data-policy');
                openPolicyModal(policyType);
            });
        });

        if (policyModalCloseBtn) {
            policyModalCloseBtn.addEventListener('click', closePolicyModal);
        }
        
        // Team Modal Logic
        const teamLink = document.querySelector('.team-link');
        if (teamLink) {
            teamLink.addEventListener('click', (e) => {
                e.preventDefault();
                // This part is simplified as team data is not in this file
                // In a real app, you would fetch and render team data here
                alert("Team Modal would open here.");
            });
        }
        if (teamModalCloseBtn) {
            teamModalCloseBtn.addEventListener('click', () => {
                teamModal.classList.remove('active');
                if (!policyModal.classList.contains('active')) {
                    mainBody.style.overflow = '';
                }
            });
        }
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (policyModal.classList.contains('active')) closePolicyModal();
                if (teamModal.classList.contains('active')) teamModal.classList.remove('active');
            }
        });
    });
</script>

</body>
</html>
